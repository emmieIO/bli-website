import{u as b,b as i,a as o,j as e,H as u,L as j}from"./app-ytQgSLgb.js";import{D as f}from"./DashboardLayout-CmYsQhgw.js";import"./Toast-BNLeS7rh.js";import"./createLucideIcon-QZZihkqm.js";import"./index-B7mgmw7u.js";import"./menu-CErC76hP.js";import"./house-DLGjpOpm.js";import"./shopping-cart-Dg5FdEcF.js";import"./user-DA3XbRel.js";import"./book-open-18WUlKDD.js";function D({mentorshipRequest:s}){const{sideLinks:c}=b().props,[m,l]=i.useState(!1),[x,d]=i.useState(!1),t=o({response:""}),a=o({reason:""}),p=r=>{r.preventDefault(),t.post(route("admin.mentorship.approve",s.id),{onSuccess:()=>{l(!1)}})},h=r=>{r.preventDefault(),a.post(route("admin.mentorship.reject",s.id),{onSuccess:()=>{d(!1)}})},g=r=>{const n={yellow:"bg-yellow-100 text-yellow-800",blue:"bg-blue-100 text-blue-800",green:"bg-green-100 text-green-800",red:"bg-red-100 text-red-800",gray:"bg-gray-100 text-gray-800"};return n[r]||n.gray};return e.jsxs(f,{sideLinks:c,children:[e.jsx(u,{title:"Mentorship Request Details"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(j,{href:route("admin.mentorship.index"),className:"text-primary hover:text-primary/90 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back to Mentorship Manager"]}),e.jsxs("div",{className:"flex justify-between items-start mt-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mentorship Request"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Request ID: #",s.id]})]}),e.jsx("span",{className:`px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${g(s.status_color)}`,children:s.status_label})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Student"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 font-medium",children:s.student.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.student.email})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Instructor"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 font-medium",children:s.instructor.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.instructor.email})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Request Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Duration"}),e.jsx("p",{className:"mt-1 text-gray-900",children:s.formatted_duration})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Student's Message"}),e.jsx("p",{className:"mt-1 text-gray-900 whitespace-pre-wrap",children:s.message})]}),s.goals&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Learning Goals"}),e.jsx("p",{className:"mt-1 text-gray-900 whitespace-pre-wrap",children:s.goals})]})]})]}),s.instructor_response&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Instructor's Response"}),e.jsx("p",{className:"text-blue-800 whitespace-pre-wrap",children:s.instructor_response})]}),s.admin_response&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-green-900 mb-2",children:"Admin's Response"}),e.jsx("p",{className:"text-green-800 whitespace-pre-wrap",children:s.admin_response})]}),s.rejection_reason&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-red-900 mb-2",children:"Rejection Reason"}),e.jsx("p",{className:"text-red-800 whitespace-pre-wrap",children:s.rejection_reason})]}),s.status==="instructor_approved"&&e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Admin Actions"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Approve Mentorship"}),e.jsx("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Reject Request"})]})]})]})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Approve Mentorship Request"}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Response (Optional)"}),e.jsx("textarea",{value:t.data.response,onChange:r=>t.setData("response",r.target.value),rows:4,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary",placeholder:"Add a message for the student and instructor..."})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:t.processing,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:t.processing?"Approving...":"Approve"})]})]})]})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Reject Mentorship Request"}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason for Rejection ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:a.data.reason,onChange:r=>a.setData("reason",r.target.value),rows:4,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary",placeholder:"Explain why this request is being rejected...",required:!0}),a.errors.reason&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.errors.reason})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:a.processing,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:a.processing?"Rejecting...":"Reject"})]})]})]})})]})}export{D as default};
