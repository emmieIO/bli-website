import{u as F,b as d,j as e,H as k,L as b,r as S}from"./app-ytQgSLgb.js";import{D as L}from"./DashboardLayout-CmYsQhgw.js";import"./Toast-BNLeS7rh.js";import"./createLucideIcon-QZZihkqm.js";import"./index-B7mgmw7u.js";import"./menu-CErC76hP.js";import"./house-DLGjpOpm.js";import"./shopping-cart-Dg5FdEcF.js";import"./user-DA3XbRel.js";import"./book-open-18WUlKDD.js";function G({course:i,categories:f,levels:y}){const{sideLinks:j,errors:t}=F().props,[m,x]=d.useState(!1),[s,p]=d.useState({title:i.title||"",subtitle:i.subtitle||"",description:i.description||"",language:i.language||"English",level:i.level||"",category_id:String(i.category_id)||"",is_free:i.is_free??!0,price:i.price||"0"}),[u,v]=d.useState(null),[h,N]=d.useState(null),a=r=>{const{name:l,value:o,type:c}=r.target;if(c==="checkbox"){const n=r.target.checked;p(g=>({...g,[l]:n,price:n?"0":g.price}))}else p(n=>({...n,[l]:o}))},w=r=>{r.target.files&&r.target.files[0]&&v(r.target.files[0])},C=r=>{r.target.files&&r.target.files[0]&&N(r.target.files[0])},_=r=>{r.preventDefault(),x(!0);const l=new FormData;l.append("_method","PUT"),Object.entries(s).forEach(([o,c])=>{l.append(o,String(c))}),u&&l.append("thumbnail",u),h&&l.append("preview_video",h),S.post(route("instructor.courses.update",i.slug),l,{preserveScroll:!0,onFinish:()=>{x(!1)}})};return e.jsxs(L,{sideLinks:j,children:[e.jsx(k,{title:"Edit Course"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 font-montserrat",children:"Edit Course"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Update your course information"})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs(b,{href:route("instructor.courses.index"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center gap-2 transition duration-200",children:[e.jsx("i",{className:"fas fa-arrow-left w-4 h-4"}),"Back to Courses"]})})]}),e.jsxs("form",{onSubmit:_,className:"max-w-4xl mx-auto bg-white shadow-lg rounded-xl border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-primary px-6 py-8 text-white",children:[e.jsx("h3",{className:"text-xl font-bold font-montserrat",children:"Course Information"}),e.jsx("p",{className:"text-blue-100 mt-2",children:"Update your course details"})]}),e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Title *"}),e.jsx("input",{type:"text",id:"title",name:"title",value:s.title,onChange:a,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"e.g., Complete Web Development with Laravel",maxLength:255,required:!0}),(t==null?void 0:t.title)&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.title})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subtitle",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Subtitle"}),e.jsx("input",{type:"text",id:"subtitle",name:"subtitle",value:s.subtitle,onChange:a,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"e.g., Build modern web applications from scratch",maxLength:500}),(t==null?void 0:t.subtitle)&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.subtitle})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Description *"}),e.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:a,rows:8,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary resize-none",placeholder:"Provide a comprehensive description...",minLength:100,required:!0}),(t==null?void 0:t.description)&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"language",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Language *"}),e.jsxs("select",{id:"language",name:"language",value:s.language,onChange:a,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary",required:!0,children:[e.jsx("option",{value:"English",children:"English"}),e.jsx("option",{value:"Spanish",children:"Spanish"}),e.jsx("option",{value:"French",children:"French"}),e.jsx("option",{value:"German",children:"German"}),e.jsx("option",{value:"Chinese",children:"Chinese"}),e.jsx("option",{value:"Arabic",children:"Arabic"})]}),(t==null?void 0:t.language)&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.language})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"level",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Level *"}),e.jsxs("select",{id:"level",name:"level",value:s.level,onChange:a,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary",required:!0,children:[e.jsx("option",{value:"",children:"Select Level"}),y.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))]}),(t==null?void 0:t.level)&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.level})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category_id",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Category *"}),e.jsxs("select",{id:"category_id",name:"category_id",value:s.category_id,onChange:a,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary",required:!0,children:[e.jsx("option",{value:"",children:"Select Category"}),f.map(r=>e.jsx("option",{value:r.id,children:r.name.charAt(0).toUpperCase()+r.name.slice(1)},r.id))]}),(t==null?void 0:t.category_id)&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.category_id})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"thumbnail",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Thumbnail"}),e.jsx("input",{type:"file",id:"thumbnail",onChange:w,accept:"image/*",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-primary file:text-white hover:file:bg-primary-600"}),i.thumbnail_path&&e.jsxs("p",{className:"mt-2 text-xs text-gray-600",children:["Current: ",e.jsx("a",{href:`/storage/${i.thumbnail_path}`,target:"_blank",className:"text-primary hover:underline",children:"View current thumbnail"})]}),(t==null?void 0:t.thumbnail_path)&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.thumbnail_path})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"preview_video",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Preview Video (Optional)"}),e.jsx("input",{type:"file",id:"preview_video",onChange:C,accept:"video/*",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-primary file:text-white hover:file:bg-primary-600"}),i.preview_video_id&&e.jsx("p",{className:"mt-2 text-xs text-gray-600",children:"Current preview video exists"}),(t==null?void 0:t.preview_video)&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.preview_video})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Pricing"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_free",name:"is_free",checked:s.is_free,onChange:a,className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),e.jsx("label",{htmlFor:"is_free",className:"ml-2 text-sm text-gray-700",children:"This is a free course"})]}),!s.is_free&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Price (â‚¦) *"}),e.jsx("input",{type:"number",id:"price",name:"price",value:s.price,onChange:a,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary",min:"0",step:"0.01",required:!s.is_free}),(t==null?void 0:t.price)&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.price})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[e.jsx(b,{href:route("instructor.courses.index"),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-600 transition disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Updating...":"Update Course"})]})]})]})]})}export{G as default};
