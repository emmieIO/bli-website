import{b as m,j as e,H as g,L as s,r as h}from"./app-BK-9xs24.js";import{D as p}from"./DashboardLayout-Bvn4WL27.js";import{D as n}from"./index-B7mgmw7u.js";import{C as u,a as f}from"./chevron-right-CwUJfWyC.js";import"./Toast-hZvgDEB_.js";import"./createLucideIcon-B9yG259C.js";import"./menu-GwIt2lMk.js";import"./house-CzBx5vCm.js";import"./shopping-cart-2KE_xaYi.js";import"./user-Dv2AAyEe.js";import"./book-open-BgB2Yhy5.js";function $({payouts:r,counts:a,currentStatus:i}){const[j,y]=m.useState(""),l=(t,o)=>new Intl.NumberFormat("en-NG",{style:"currency",currency:o}).format(t),d=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=t=>{switch(t){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"failed":case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},x=t=>{h.get(n("admin.payouts.index"),{status:t},{preserveState:!0,preserveScroll:!0})};return e.jsxs(p,{children:[e.jsx(g,{title:"Payout Requests"}),e.jsx("div",{className:"mb-6 flex flex-col justify-between gap-4 md:flex-row md:items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payout Requests"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage instructor payout requests and withdrawals."})]})}),e.jsx("div",{className:"mb-6 border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:[{id:"all",label:"All Requests",count:a.all},{id:"pending",label:"Pending",count:a.pending},{id:"processing",label:"Processing",count:a.processing},{id:"completed",label:"Completed",count:a.completed},{id:"failed",label:"Failed",count:a.failed}].map(t=>e.jsxs("button",{onClick:()=>x(t.id),className:`
                                whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium
                                ${i===t.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}
                            `,children:[t.label,e.jsx("span",{className:`ml-2 rounded-full px-2.5 py-0.5 text-xs font-medium ${i===t.id?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-900"}`,children:t.count})]},t.id))})}),e.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Reference"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Instructor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Requested Date"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:r.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No payout requests found."})}):r.data.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900",children:[console.log("Payout ID:",t.id,"Generated URL:",n("admin.payouts.show",t.id)),e.jsx(s,{href:n("admin.payouts.show",t.id),className:"font-mono hover:text-indigo-600",children:t.payout_reference})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 shrink-0",children:e.jsx("img",{className:"h-8 w-8 rounded-full object-cover",src:t.instructor.photo?`/storage/${t.instructor.photo}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(t.instructor.name)}&background=random`,alt:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.instructor.name}),e.jsx("div",{className:"text-sm text-gray-500",children:t.instructor.email})]})]})}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-bold text-gray-900",children:l(t.amount,t.currency)}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:e.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${c(t.status)}`,children:t.status})}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:d(t.requested_at)}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:e.jsx(s,{href:n("admin.payouts.show",t.id),className:"text-indigo-600 hover:text-indigo-900",children:"View Details"})})]},t.id))})]})}),r.total>r.per_page&&e.jsx("div",{className:"border-t border-gray-200 px-4 py-3 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[e.jsx(s,{href:r.prev_page_url||"#",className:`relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 ${!r.prev_page_url&&"pointer-events-none opacity-50"}`,children:"Previous"}),e.jsx(s,{href:r.next_page_url||"#",className:`relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 ${!r.next_page_url&&"pointer-events-none opacity-50"}`,children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:(r.current_page-1)*r.per_page+1})," ","to"," ",e.jsx("span",{className:"font-medium",children:Math.min(r.current_page*r.per_page,r.total)})," ","of ",e.jsx("span",{className:"font-medium",children:r.total})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[e.jsxs(s,{href:r.prev_page_url||"#",className:`relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 ${!r.prev_page_url&&"pointer-events-none opacity-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(u,{className:"h-5 w-5","aria-hidden":"true"})]}),e.jsx("span",{className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 focus:outline-offset-0",children:r.current_page}),e.jsxs(s,{href:r.next_page_url||"#",className:`relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 ${!r.next_page_url&&"pointer-events-none opacity-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(f,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})})]})]})}export{$ as default};
