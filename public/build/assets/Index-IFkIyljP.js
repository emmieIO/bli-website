import{u as v,r as g,j as e,H as w,d as x,a as j}from"./app-NaCvn22C.js";import{D as y}from"./DashboardLayout-BbyW0RhS.js";import{I as c}from"./Input-CN5LcRZj.js";import{T as b}from"./Textarea-D9OKKSDw.js";import{B as h}from"./Button-ovXc7zxo.js";import"./Toast-fvIpzUud.js";function F({user:r}){var l;const{sideLinks:t}=v().props,[a,u]=g.useState(()=>localStorage.getItem("userTab")||"profile"),[d,o]=g.useState(!1),m=r.instructorProfile!==void 0&&r.instructorProfile!==null,n=((l=r.roles)==null?void 0:l.includes("speaker"))||!1,i=s=>{u(s),localStorage.setItem("userTab",s)},p=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e.jsxs(y,{sideLinks:t,children:[e.jsx(w,{title:"Profile - Beacon Leadership Institute"}),e.jsxs("section",{className:"max-w-5xl mx-auto",children:[e.jsx(N,{user:r,formatMemberSince:p}),e.jsx("div",{className:"mb-6 border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-6",children:[e.jsx(f,{active:a==="profile",onClick:()=>i("profile"),children:"Profile"}),e.jsx(f,{active:a==="security",onClick:()=>i("security"),children:"Security"}),m&&e.jsx(f,{active:a==="instructor",onClick:()=>i("instructor"),children:"Instructor Information"}),n&&e.jsx(f,{active:a==="speaker",onClick:()=>i("speaker"),children:"Speaker Information"})]})}),a==="profile"&&e.jsx(_,{user:r}),a==="security"&&e.jsx(k,{}),a==="instructor"&&m&&e.jsx(C,{user:r}),a==="speaker"&&n&&e.jsx(S,{user:r}),e.jsx(P,{showModal:d,setShowModal:o})]})]})}function N({user:r,formatMemberSince:t}){const a=g.useRef(null),u=()=>r.photo?`/storage/${r.photo}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(r.name)}&background=002147&color=fff`,d=o=>{var n;const m=(n=o.target.files)==null?void 0:n[0];m&&j.post(route("profile.photo.update"),{photo:m},{preserveScroll:!0})};return e.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-700 rounded-xl shadow-lg p-6 text-white mb-10",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("img",{className:"w-20 h-20 rounded-full object-cover border-2 border-white/50 group-hover:opacity-80 transition-opacity",src:u(),alt:`${r.name}'s profile photo`}),e.jsx("input",{ref:a,type:"file",className:"hidden",accept:"image/png, image/jpeg, image/gif",onChange:d}),e.jsx("label",{onClick:()=>{var o;return(o=a.current)==null?void 0:o.click()},className:"absolute bottom-0 right-0 bg-white rounded-full p-1.5 cursor-pointer shadow-md transform transition-transform group-hover:scale-110",children:e.jsx("i",{className:"fas fa-camera w-4 h-4 text-primary"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold font-montserrat",children:r.name}),e.jsx("p",{className:"text-sm opacity-90 font-lato",children:r.email}),e.jsxs("p",{className:"text-xs text-white/70 mt-1 font-lato",children:["Member since ",t(r.created_at)]})]})]})})}function f({active:r,onClick:t,children:a}){return e.jsx("button",{onClick:t,className:`
                whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm font-montserrat transition-colors
                ${r?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
            `,children:a})}function _({user:r}){var i,p,l;const{data:t,setData:a,patch:u,processing:d,errors:o}=x({name:r.name||"",headline:r.headline||"",phone:r.phone||"",email:r.email||"",linkedin:r.linkedin||"",website:r.website||"",current_password:""}),m=s=>{s.preventDefault(),u(route("profile.update"),{preserveScroll:!0,onSuccess:()=>{a("current_password","")}})},n=((i=r.roles)==null?void 0:i.includes("student"))||((p=r.roles)==null?void 0:p.includes("user"))||((l=r.roles)==null?void 0:l.includes("instructor"));return e.jsxs("div",{className:"bg-white border border-primary-100 rounded-xl shadow-sm p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2 font-montserrat",children:[e.jsx("i",{className:"fas fa-user w-5 h-5 text-primary-600"}),"Personal Information"]}),e.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(c,{label:"Full Name",type:"text",name:"name",value:t.name,onChange:s=>a("name",s.target.value),icon:"user",required:!0,autoFocus:!0,error:o.name}),e.jsx(c,{label:"Headline",type:"text",name:"headline",value:t.headline,onChange:s=>a("headline",s.target.value),icon:"user",placeholder:"Your professional headline",error:o.headline}),e.jsx(c,{label:"Phone",type:"text",name:"phone",value:t.phone,onChange:s=>a("phone",s.target.value),icon:"phone",error:o.phone}),e.jsx(c,{label:"Email",type:"email",name:"email",value:t.email,onChange:s=>a("email",s.target.value),icon:"envelope",readOnly:n,required:!0,error:o.email}),e.jsx(c,{label:"Current Password",type:"password",name:"current_password",value:t.current_password,onChange:s=>a("current_password",s.target.value),icon:"lock",required:!0,error:o.current_password}),e.jsx(c,{label:"LinkedIn Profile",type:"text",name:"linkedin",value:t.linkedin,onChange:s=>a("linkedin",s.target.value),icon:"linkedin",error:o.linkedin}),e.jsx(c,{label:"Website",type:"text",name:"website",value:t.website,onChange:s=>a("website",s.target.value),icon:"globe",error:o.website}),e.jsx("div",{className:"md:col-span-2 mt-4",children:e.jsx(h,{type:"submit",icon:"save",loading:d,children:"Save Changes"})})]})]})}function k(){const{data:r,setData:t,patch:a,processing:u,errors:d,reset:o}=x({current_password:"",password:"",password_confirmation:""}),m=n=>{n.preventDefault(),a(route("profile.update_password"),{preserveScroll:!0,onSuccess:()=>o()})};return e.jsxs("div",{className:"bg-white border border-primary-100 rounded-xl shadow-sm p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2 font-montserrat",children:[e.jsx("i",{className:"fas fa-shield-alt w-5 h-5 text-primary-600"}),"Account Security"]}),e.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(c,{label:"Current Password",type:"password",name:"current_password",value:r.current_password,onChange:n=>t("current_password",n.target.value),icon:"lock",autoComplete:"current-password",error:d.current_password}),e.jsx(c,{label:"New Password",type:"password",name:"password",value:r.password,onChange:n=>t("password",n.target.value),icon:"lock",autoComplete:"new-password",error:d.password}),e.jsx(c,{label:"Confirm Password",type:"password",name:"password_confirmation",value:r.password_confirmation,onChange:n=>t("password_confirmation",n.target.value),icon:"lock",autoComplete:"new-password",error:d.password_confirmation}),e.jsx("div",{className:"md:col-span-2 mt-4",children:e.jsx(h,{type:"submit",icon:"lock",loading:u,children:"Update Password"})})]})]})}function C({user:r}){var n,i,p;const{data:t,setData:a,patch:u,processing:d,errors:o}=x({bio:((n=r.instructorProfile)==null?void 0:n.bio)||"",area_of_expertise:((i=r.instructorProfile)==null?void 0:i.area_of_expertise)||"",linkedin:((p=r.instructorProfile)==null?void 0:p.linkedin)||""}),m=l=>{l.preventDefault(),u(route("profile.update"),{preserveScroll:!0})};return e.jsxs("div",{className:"bg-white border border-primary-100 rounded-xl shadow-sm p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2 font-montserrat",children:[e.jsx("i",{className:"fas fa-book-open w-5 h-5 text-primary-600"}),"Instructor Information"]}),e.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 gap-6",children:[e.jsx(b,{label:"Biography",name:"bio",rows:10,value:t.bio,onChange:l=>a("bio",l.target.value),placeholder:"Write a short professional bio...",required:!0,error:o.bio}),e.jsx(b,{label:"Areas of Expertise",name:"area_of_expertise",rows:3,value:t.area_of_expertise,onChange:l=>a("area_of_expertise",l.target.value),placeholder:"List your areas of specialization (e.g. Leadership, Communication, Management)...",error:o.area_of_expertise}),e.jsx(c,{label:"LinkedIn Profile",type:"url",name:"linkedin",value:t.linkedin,onChange:l=>a("linkedin",l.target.value),placeholder:"https://linkedin.com/in/username",error:o.linkedin}),e.jsx("div",{className:"mt-4",children:e.jsx(h,{type:"submit",icon:"save",loading:d,children:"Save Changes"})})]})]})}function S({user:r}){var i,p,l;const{data:t,setData:a,patch:u,processing:d,errors:o}=x({name:r.name||"",phone:r.phone||"",email:r.email||"",current_password:""}),m=s=>{s.preventDefault(),u(route("profile.update"),{preserveScroll:!0,onSuccess:()=>{a("current_password","")}})},n=((i=r.roles)==null?void 0:i.includes("student"))||((p=r.roles)==null?void 0:p.includes("user"))||((l=r.roles)==null?void 0:l.includes("instructor"));return e.jsxs("div",{className:"bg-white border border-primary-100 rounded-xl shadow-sm p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2 font-montserrat",children:[e.jsx("i",{className:"fas fa-microphone w-5 h-5 text-primary-600"}),"Speaker Information"]}),e.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(c,{label:"Full Name",type:"text",name:"name",value:t.name,onChange:s=>a("name",s.target.value),icon:"user",required:!0,autoFocus:!0,error:o.name}),e.jsx(c,{label:"Phone",type:"text",name:"phone",value:t.phone,onChange:s=>a("phone",s.target.value),icon:"phone",error:o.phone}),e.jsx(c,{label:"Email",type:"email",name:"email",value:t.email,onChange:s=>a("email",s.target.value),icon:"envelope",readOnly:n,required:!0,error:o.email}),e.jsx(c,{label:"Current Password",type:"password",name:"current_password",value:t.current_password,onChange:s=>a("current_password",s.target.value),icon:"lock",required:!0,error:o.current_password}),e.jsx("div",{className:"md:col-span-2 mt-4",children:e.jsx(h,{type:"submit",icon:"save",loading:d,children:"Save Changes"})})]})]})}function P({showModal:r,setShowModal:t}){const{data:a,setData:u,delete:d,processing:o,errors:m}=x({current_password_destroy:""}),n=i=>{i.preventDefault(),d(route("account.destroy"),{preserveScroll:!0,onSuccess:()=>t(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-10",children:e.jsxs("div",{className:"bg-white border border-red-200 rounded-xl shadow-sm p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-red-700 mb-4 flex items-center gap-2 font-montserrat",children:[e.jsx("i",{className:"fas fa-exclamation-triangle w-5 h-5"}),"Danger Zone"]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 font-lato",children:"Permanently delete your account. This action cannot be undone."}),e.jsxs("button",{onClick:()=>t(!0),className:"text-red-700 border border-red-500 hover:bg-red-600 hover:text-white font-semibold px-5 py-2 rounded-lg transition-all duration-200 font-montserrat",children:[e.jsx("i",{className:"fas fa-trash w-4 h-4 inline-block mr-2"}),"Deactivate Account"]})]})}),r&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/30",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-md mx-4",children:[e.jsx("h2",{className:"text-lg font-bold mb-4 text-red-700 font-montserrat",children:"Confirm Account Deactivation"}),e.jsx("p",{className:"mb-6 text-gray-700 font-lato",children:"Are you sure you want to deactivate your account? This action cannot be undone."}),e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsx(c,{label:"Current Password",type:"password",name:"current_password_destroy",value:a.current_password_destroy,onChange:i=>u("current_password_destroy",i.target.value),icon:"lock",required:!0,error:m.current_password_destroy}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(h,{type:"button",variant:"secondary",onClick:()=>t(!1),children:"Cancel"}),e.jsx(h,{type:"submit",variant:"danger",loading:o,children:"Deactivate"})]})]})]})})]})}export{F as default};
