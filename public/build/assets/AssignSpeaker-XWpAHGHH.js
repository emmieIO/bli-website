import{u as j,r as x,j as e,H as N,L as y,a as v}from"./app-Ctb2Vi0i.js";import{D as S}from"./DashboardLayout-BmEIDf5I.js";import"./Toast-DZ4W_5gU.js";function C({event:a,speakers:l,assignedSpeakerIds:u}){const{sideLinks:h}=j().props,[n,g]=x.useState(u||[]),[r,d]=x.useState(!1),f=s=>{g(t=>t.includes(s)?t.filter(i=>i!==s):[...t,s])},p=s=>{s.preventDefault(),d(!0),v.post(route("admin.events.assign-speaker",a.id),{speaker_ids:n},{preserveScroll:!0,onFinish:()=>{d(!1)}})},b=s=>{var c,m;const t=s.photo||((c=s.user)==null?void 0:c.photo);if(t)return`/storage/${t}`;const i=s.name||((m=s.user)==null?void 0:m.name)||"Speaker";return`https://ui-avatars.com/api/?name=${encodeURIComponent(i)}&background=00275E&color=fff`},o=s=>{var t;return s.name||((t=s.user)==null?void 0:t.name)||"Unknown Speaker"};return e.jsxs(S,{sideLinks:h,children:[e.jsx(N,{title:`Assign Speakers - ${a.title}`}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-user-plus w-6 h-6 text-teal-600"}),"Assign Speakers to ",a.title]}),e.jsxs(y,{href:route("admin.events.show",a.id),className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 text-sm rounded hover:bg-gray-200",children:[e.jsx("i",{className:"fas fa-arrow-left w-4 h-4 mr-2"})," Back to Event"]})]}),e.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Speakers"}),e.jsx("div",{className:"border border-gray-200 rounded-lg max-h-60 overflow-y-auto divide-y",children:l.length>0?l.map(s=>e.jsxs("label",{className:"flex items-center gap-3 p-4 hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",value:s.id,checked:n.includes(s.id),onChange:()=>f(s.id),className:"text-teal-600 rounded focus:ring-teal-500"}),e.jsx("img",{src:b(s),className:"w-10 h-10 rounded-full object-cover",alt:o(s)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-800",children:o(s)}),e.jsxs("div",{className:"text-sm text-gray-500",children:[s.organization||"Independent",s.title&&` Â· ${s.title}`]})]})]},s.id)):e.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No available speakers found."})}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:[n.length," speaker(s) selected"]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",disabled:r,className:"bg-teal-600 flex items-center gap-3 hover:bg-teal-700 text-white px-6 py-2 rounded-md text-sm font-medium shadow-sm transition disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("i",{className:"fas fa-link w-4 h-4"}),e.jsx("span",{children:r?"Assigning...":"Assign Selected"})]})})]})})]})})]})}export{C as default};
