import{u as v,r as d,j as e,H as w,L as N,a as k}from"./app-CXX3rjxJ.js";import{D as _}from"./DashboardLayout-DFjY4ebl.js";import{I as u}from"./Input-Bk7ijTd9.js";import{T as F}from"./Textarea-B6kNzUzP.js";import"./Toast-D60RrfJo.js";function L({event:c}){const{sideLinks:h,errors:t}=v().props,[m,p]=d.useState(!1),[l,f]=d.useState({title:"",type:"",external_link:"",description:"",is_downloadable:!1}),[x,b]=d.useState(null),r=a=>{const{name:s,value:o,type:i}=a.target;if(i==="checkbox"){const n=a.target.checked;f(j=>({...j,[s]:n}))}else f(n=>({...n,[s]:o}))},g=a=>{a.target.files&&a.target.files[0]&&b(a.target.files[0])},y=a=>{a.preventDefault(),p(!0);const s=new FormData;Object.entries(l).forEach(([o,i])=>{typeof i=="boolean"?i&&s.append(o,"1"):i!==""&&s.append(o,i)}),x&&s.append("file_path",x),k.post(route("admin.events.resources.store",c.id),s,{preserveScroll:!0,onFinish:()=>{p(!1)}})};return e.jsxs(_,{sideLinks:h,children:[e.jsx(w,{title:"Add Event Resource"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8 pb-4 border-b border-primary-100",children:[e.jsxs("h2",{className:"text-3xl font-bold text-primary flex items-center gap-3",children:[e.jsx("i",{className:"fas fa-folder-plus w-8 h-8"}),"Add Event Resource"]}),e.jsxs(N,{href:route("admin.events.show",c.slug),className:"inline-flex items-center gap-2 text-primary hover:text-primary-600 font-medium transition-colors",children:[e.jsx("i",{className:"fas fa-arrow-left w-4 h-4"}),"Back to Event"]})]}),e.jsxs("form",{onSubmit:y,className:"bg-white border border-primary-100 rounded-2xl shadow-lg p-8 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(u,{label:"Title",name:"title",value:l.title,onChange:r,error:t==null?void 0:t.title,icon:"file-alt",placeholder:"Resource title",required:!0}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1 font-lato",children:["Resource Type ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("select",{id:"type",name:"type",value:l.type,onChange:r,required:!0,className:`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500 focus:outline-none text-sm font-lato ${t!=null&&t.type?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"file",children:"File"}),e.jsx("option",{value:"link",children:"Link"})]}),(t==null?void 0:t.type)&&e.jsx("p",{className:"text-sm text-red-500 mt-1 font-lato",children:t.type})]})]}),e.jsx(u,{label:"External Link",name:"external_link",type:"url",value:l.external_link,onChange:r,error:t==null?void 0:t.external_link,icon:"link",placeholder:"https://example.com/resource"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{htmlFor:"file_path",className:"block text-sm font-medium text-gray-700",children:"Upload File"}),e.jsx("input",{id:"file_path",name:"file_path",type:"file",onChange:g,accept:".jpeg,.jpg,.png,.gif,.svg,.pdf,.mp4",className:`block w-full text-sm text-gray-900 bg-gray-50 rounded-lg border focus:ring-2 focus:ring-primary focus:border-primary
                                file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium
                                file:bg-primary file:text-white hover:file:bg-[#003366] transition ${t!=null&&t.file_path?"border-red-500":"border-gray-300"}`}),(t==null?void 0:t.file_path)&&e.jsx("p",{className:"text-sm text-red-500 mt-1 font-lato",children:t.file_path}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Allowed file types: JPEG, PNG, GIF, SVG, PDF, MP4. Max file size: 2MB."})]}),e.jsx(F,{label:"Description",name:"description",value:l.description,onChange:r,error:t==null?void 0:t.description,placeholder:"Brief description about this resource...",rows:5}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary-50 rounded-xl border border-primary-100",children:[e.jsx("input",{id:"is_downloadable",name:"is_downloadable",type:"checkbox",checked:l.is_downloadable,onChange:r,className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),e.jsx("label",{htmlFor:"is_downloadable",className:"text-sm text-gray-700 font-medium",children:"Make resource downloadable for attendees"})]}),e.jsx("div",{className:"pt-6 border-t border-primary-100 mt-6 flex justify-end",children:e.jsxs("button",{type:"submit",disabled:m,className:"inline-flex items-center gap-3 px-6 py-3 bg-primary text-white text-sm font-semibold rounded-xl hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[e.jsx("i",{className:"fas fa-save w-5 h-5"}),m?"Saving...":"Save Resource"]})})]})]})]})}export{L as default};
