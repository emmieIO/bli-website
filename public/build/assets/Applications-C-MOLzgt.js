import{b as a,j as e,H as A,L as x,r as k}from"./app-ytQgSLgb.js";import{D as S}from"./DashboardLayout-CmYsQhgw.js";import"./Toast-BNLeS7rh.js";import"./createLucideIcon-QZZihkqm.js";import"./index-B7mgmw7u.js";import"./menu-CErC76hP.js";import"./house-DLGjpOpm.js";import"./shopping-cart-Dg5FdEcF.js";import"./user-DA3XbRel.js";import"./book-open-18WUlKDD.js";function Q({instructorProfiles:c}){const[r,n]=a.useState([]),[y,p]=a.useState(!1),[i,m]=a.useState(null),[d,h]=a.useState(!1),[o,b]=a.useState(""),f=t=>{t.target.checked?n(c.map(s=>s.id)):n([])},j=t=>{n(s=>s.includes(t)?s.filter(l=>l!==t):[...s,t])},N=t=>{m(t),p(!0)},u=()=>{p(!1),m(null),h(!1)},w=()=>{i&&(h(!0),k.patch(route("admin.instructors.applications.approve",i.id),{},{preserveScroll:!0,onFinish:()=>{u()}}))},g=c.filter(t=>{var l;if(!o)return!0;const s=o.toLowerCase();return t.user.name.toLowerCase().includes(s)||t.user.email.toLowerCase().includes(s)||t.application_id.toLowerCase().includes(s)||((l=t.headline)==null?void 0:l.toLowerCase().includes(s))}),v=t=>{const s={draft:"bg-yellow-100 text-yellow-800",submitted:"bg-blue-100 text-blue-800",pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",denied:"bg-red-100 text-red-800"};return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s[t]||"bg-gray-100 text-gray-800"}`,children:t.charAt(0).toUpperCase()+t.slice(1)})};return e.jsxs(S,{children:[e.jsx(A,{title:"Instructor Applications"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 font-montserrat",children:"Instructor Applications"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Review and approve instructor applications"})]}),e.jsx("div",{className:"mb-6 border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx(x,{href:route("admin.instructors.index"),className:"border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 font-medium text-sm transition-colors",children:"Active Instructors"}),e.jsx(x,{href:route("admin.instructors.applications"),className:"border-b-2 border-primary text-primary whitespace-nowrap py-4 px-1 font-medium text-sm",children:"Applications"})]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx("i",{className:"fas fa-search text-gray-400"})}),e.jsx("input",{type:"text",value:o,onChange:t=>b(t.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary",placeholder:"Search by name, email, profile ID, or headline..."})]})}),r.length>0&&e.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-blue-700",children:[r.length," profile(s) selected"]}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium",children:"Mass Action"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"w-4 p-4",children:e.jsx("input",{type:"checkbox",checked:r.length===c.length,onChange:f,className:"w-4 h-4 text-primary bg-gray-100 border-gray-300 rounded focus:ring-primary"})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fullname"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profile ID"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Headline"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:[e.jsx("i",{className:"fas fa-inbox text-4xl mb-4 text-gray-300"}),e.jsx("p",{children:"No applications found"})]})}):g.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"w-4 p-4",children:e.jsx("input",{type:"checkbox",checked:r.includes(t.id),onChange:()=>j(t.id),className:"w-4 h-4 text-primary bg-gray-100 border-gray-300 rounded focus:ring-primary"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.user.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.application_id})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:t.headline||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.user.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.phone||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v(t.status)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[e.jsxs("button",{onClick:()=>N(t),disabled:t.is_approved||t.status==="draft",className:`inline-flex items-center px-3 py-1.5 rounded-lg text-white text-xs font-medium transition-colors ${t.is_approved||t.status==="draft"?"bg-gray-300 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:[e.jsx("i",{className:"fas fa-check mr-1"}),"Approve"]}),e.jsxs(x,{href:route("admin.instructors.applications.view",t.id),className:"inline-flex items-center px-3 py-1.5 bg-primary text-white rounded-lg hover:bg-[#003366] text-xs font-medium transition-colors",children:[e.jsx("i",{className:"fas fa-eye mr-1"}),"View"]})]})]},t.id))})]})})})]}),y&&i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-green-100 rounded-full",children:e.jsx("i",{className:"fas fa-check text-green-600 text-xl"})}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900 text-center",children:"Approve Application"}),e.jsxs("p",{className:"mb-4 text-sm text-gray-500 text-center",children:["Are you sure you want to approve the application for ",i.application_id,"?"]}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("button",{onClick:w,disabled:d,className:"px-5 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Approving...":"Yes, I'm sure"}),e.jsx("button",{onClick:u,disabled:d,className:"px-5 py-2.5 bg-white text-gray-900 border border-gray-300 rounded-lg hover:bg-gray-100 text-sm font-medium",children:"No, cancel"})]})]})})})]})}export{Q as default};
