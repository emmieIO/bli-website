import{b as p,j as e,H as h,L as u}from"./app-BK-9xs24.js";import{D as y}from"./DashboardLayout-Bvn4WL27.js";import"./Toast-hZvgDEB_.js";import"./createLucideIcon-B9yG259C.js";import"./index-B7mgmw7u.js";import"./menu-GwIt2lMk.js";import"./house-CzBx5vCm.js";import"./shopping-cart-2KE_xaYi.js";import"./user-Dv2AAyEe.js";import"./book-open-BgB2Yhy5.js";const a=(s,l="NGN")=>new Intl.NumberFormat("en-NG",{style:"currency",currency:l,minimumFractionDigits:2}).format(s),d=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});function q({balance:s,earnings:l,payouts:x,config:r}){const[i,n]=p.useState("earnings"),c=t=>{switch(t){case"available":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"paid":case"completed":return"bg-blue-100 text-blue-800";case"refunded":case"failed":case"cancelled":return"bg-red-100 text-red-800";case"processing":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},m=s.available>=r.minimum_payout;return e.jsxs(y,{children:[e.jsx(h,{title:"Earnings & Payouts"}),e.jsxs("div",{className:"mb-6 flex flex-col items-start justify-between gap-4 md:flex-row md:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-montserrat text-2xl font-bold text-primary",children:"Earnings & Payouts"}),e.jsx("p",{className:"font-lato text-sm text-gray-500",children:"Track your earnings and request payouts"})]}),m&&e.jsx(u,{href:"/instructor/earnings/payout",className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700",children:"Request Payout"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-8 grid gap-6 md:grid-cols-4",children:[e.jsxs("div",{className:"rounded-lg bg-white p-6 shadow",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Available Balance"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-green-600",children:a(s.available,"NGN")}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Ready to withdraw"})]}),e.jsxs("div",{className:"rounded-lg bg-white p-6 shadow",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Pending"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-yellow-600",children:a(s.pending,"NGN")}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["In ",r.holding_period_days,"-day holding period"]})]}),e.jsxs("div",{className:"rounded-lg bg-white p-6 shadow",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Earned"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:a(s.total_earned,"NGN")}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["After ",r.platform_commission,"% commission"]})]}),e.jsxs("div",{className:"rounded-lg bg-white p-6 shadow",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Paid Out"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-600",children:a(s.total_paid,"NGN")}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lifetime withdrawals"})]})]}),!m&&s.available>0&&e.jsx("div",{className:"mb-6 rounded-lg bg-yellow-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-yellow-700",children:["Minimum payout amount is ",a(r.minimum_payout,"NGN"),". You need ",a(r.minimum_payout-s.available,"NGN")," more to request a payout."]})})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>n("earnings"),className:`border-b-2 px-1 py-4 text-sm font-medium ${i==="earnings"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:"Earnings History"}),e.jsx("button",{onClick:()=>n("payouts"),className:`border-b-2 px-1 py-4 text-sm font-medium ${i==="payouts"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:"Payout Requests"})]})})}),i==="earnings"&&e.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[e.jsx("div",{className:"px-6 py-4",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Earnings"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Course"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Gross Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Platform Fee"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Net Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Available At"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:l.data.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:[e.jsx("p",{className:"text-sm",children:"No earnings yet"}),e.jsx("p",{className:"mt-1 text-xs",children:"Earnings will appear here when students purchase your courses"})]})}):l.data.map(t=>{var o;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:((o=t.course)==null?void 0:o.title)||"Unknown Course"}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:d(t.created_at)}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:a(t.gross_amount,t.currency)}),e.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:[a(t.platform_fee,t.currency)," (",t.platform_fee_percentage,"%)"]}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900",children:a(t.net_amount,t.currency)}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:e.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${c(t.status)}`,children:t.status})}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:t.status==="pending"?d(t.available_at):"-"})]},t.id)})})]})})]}),i==="payouts"&&e.jsxs("div",{className:"mt-8 overflow-hidden rounded-lg bg-white shadow",children:[e.jsx("div",{className:"px-6 py-4",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Payout Requests"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Reference"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Method"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Requested"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:x.data.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:[e.jsx("p",{className:"text-sm",children:"No payout requests yet"}),e.jsx("p",{className:"mt-1 text-xs",children:"Request a payout when your available balance reaches the minimum amount"})]})}):x.data.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-mono text-gray-900",children:t.payout_reference}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900",children:a(t.amount,t.currency)}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:t.payout_method.replace("_"," ")}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:d(t.requested_at)}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:e.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${c(t.status)}`,children:t.status})})]},t.id))})]})})]})]})]})}export{q as default};
