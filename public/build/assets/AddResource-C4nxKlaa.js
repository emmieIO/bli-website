import{u as N,b as c,j as e,H as v,L as w,r as k}from"./app-Cp24Tua5.js";import{D as _}from"./DashboardLayout-CBXHempG.js";import{I as u}from"./Input-CbCMxIa-.js";import{T as C}from"./Textarea-DKYByT7B.js";import"./Toast-_0vFKl4S.js";import"./user-MVrT3swS.js";function E({event:m}){const{sideLinks:h,errors:s}=N().props,[x,f]=c.useState(!1),[t,p]=c.useState({title:"",type:"",external_link:"",description:"",is_downloadable:!1}),[o,b]=c.useState(null),i=a=>{const{name:l,value:n,type:r}=a.target;if(r==="checkbox"){const d=a.target.checked;p(j=>({...j,[l]:d}))}else p(d=>({...d,[l]:n}))},g=a=>{a.target.files&&a.target.files[0]&&b(a.target.files[0])},y=a=>{a.preventDefault(),f(!0);const l=new FormData;Object.entries(t).forEach(([n,r])=>{typeof r=="boolean"?r&&l.append(n,"1"):r!==""&&l.append(n,r)}),o&&l.append("file_path",o),k.post(route("admin.events.resources.store",m.slug),l,{preserveScroll:!0,onFinish:()=>{f(!1)}})};return e.jsxs(_,{sideLinks:h,children:[e.jsx(v,{title:"Add Event Resource"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8 pb-4 border-b border-primary-100",children:[e.jsxs("h2",{className:"text-3xl font-bold text-primary flex items-center gap-3",children:[e.jsx("i",{className:"fas fa-folder-plus w-8 h-8"}),"Add Event Resource"]}),e.jsxs(w,{href:route("admin.events.show",m.slug),className:"inline-flex items-center gap-2 text-primary hover:text-primary-600 font-medium transition-colors",children:[e.jsx("i",{className:"fas fa-arrow-left w-4 h-4"}),"Back to Event"]})]}),e.jsxs("form",{onSubmit:y,className:"bg-white border border-primary-100 rounded-2xl shadow-lg p-8 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(u,{label:"Title",name:"title",value:t.title,onChange:i,error:s==null?void 0:s.title,icon:"file-alt",placeholder:"Resource title",required:!0}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1 font-lato",children:["Resource Type ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"fas fa-layer-group text-gray-400"})}),e.jsxs("select",{id:"type",name:"type",value:t.type,onChange:i,required:!0,className:`block w-full pl-10 pr-10 py-3 border rounded-xl shadow-sm focus:ring-2 focus:outline-none text-sm font-lato bg-gray-50 focus:bg-white transition-all ${s!=null&&s.type?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-primary focus:border-primary"}`,style:s!=null&&s.type?{}:{"--tw-ring-color":"#002147"},children:[e.jsx("option",{value:"",children:"Select resource type"}),e.jsx("option",{value:"file",children:"ðŸ“Ž File Upload"}),e.jsx("option",{value:"link",children:"ðŸ”— External Link"})]})]}),(s==null?void 0:s.type)&&e.jsx("p",{className:"text-sm text-red-500 mt-1 font-lato",children:s.type})]})]}),t.type&&e.jsx("div",{className:"border-2 border-dashed rounded-xl p-6 transition-all duration-300",style:{borderColor:t.type==="file"?"#002147":"#00a651"},children:t.type==="link"?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"#e6f7ed"},children:e.jsx("i",{className:"fas fa-link text-lg",style:{color:"#00a651"}})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 font-montserrat",children:"External Link"}),e.jsx("p",{className:"text-xs text-gray-500 font-lato",children:"Provide a URL to an external resource"})]})]}),e.jsx(u,{label:"Resource URL",name:"external_link",type:"url",value:t.external_link,onChange:i,error:s==null?void 0:s.external_link,icon:"link",placeholder:"https://example.com/resource",required:!0})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"#e6f0ff"},children:e.jsx("i",{className:"fas fa-cloud-upload-alt text-lg",style:{color:"#002147"}})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 font-montserrat",children:"File Upload"}),e.jsx("p",{className:"text-xs text-gray-500 font-lato",children:"Upload a file from your computer"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"file_path",className:"block text-sm font-medium text-gray-700 mb-2 font-lato",children:["Choose File ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("style",{children:`
                                                input[type="file"]::file-selector-button {
                                                    background-color: #002147;
                                                }
                                                input[type="file"]::-webkit-file-upload-button {
                                                    background-color: #002147;
                                                }
                                            `}),e.jsx("input",{id:"file_path",name:"file_path",type:"file",onChange:g,required:t.type==="file",accept:".jpeg,.jpg,.png,.gif,.svg,.pdf,.mp4,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.zip",className:`block w-full text-sm text-gray-900 bg-white rounded-xl border-2 border-dashed focus:ring-2 focus:outline-none p-4
                                                    file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold
                                                    file:text-white hover:file:opacity-90 file:transition cursor-pointer hover:border-primary transition-all ${s!=null&&s.file_path?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-primary"}`,style:{"--tw-ring-color":"#002147"}}),o&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-gray-700 bg-gray-50 p-3 rounded-lg",children:[e.jsx("i",{className:"fas fa-file text-primary"}),e.jsx("span",{className:"font-medium font-lato",children:o.name}),e.jsxs("span",{className:"text-gray-500 font-lato",children:["(",(o.size/1024).toFixed(2)," KB)"]})]})]}),(s==null?void 0:s.file_path)&&e.jsx("p",{className:"text-sm text-red-500 mt-2 font-lato",children:s.file_path}),e.jsxs("div",{className:"mt-3 bg-blue-50 border-l-4 p-3 rounded-r-lg",style:{borderColor:"#002147"},children:[e.jsxs("p",{className:"text-xs text-gray-600 font-lato",children:[e.jsx("i",{className:"fas fa-info-circle mr-1",style:{color:"#002147"}}),e.jsx("strong",{children:"Allowed formats:"})," Images (JPEG, PNG, GIF, SVG), Documents (PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX), Archives (ZIP), Videos (MP4)"]}),e.jsxs("p",{className:"text-xs text-gray-600 font-lato mt-1",children:[e.jsx("strong",{children:"Max file size:"})," 10MB"]})]})]})]})}),!t.type&&e.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-8 text-center",children:[e.jsx("i",{className:"fas fa-hand-pointer text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-500 font-lato",children:"Please select a resource type above to continue"})]}),e.jsx(C,{label:"Description",name:"description",value:t.description,onChange:i,error:s==null?void 0:s.description,placeholder:"Brief description about this resource...",rows:5}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-xl p-6 border-2 transition-all duration-300",style:{borderColor:t.is_downloadable?"#00a651":"#e5e7eb"},children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"is_downloadable",name:"is_downloadable",type:"checkbox",checked:t.is_downloadable,onChange:i,className:"h-5 w-5 rounded-lg border-2 border-gray-300 transition-all duration-200 cursor-pointer focus:ring-2 focus:ring-offset-2",style:{accentColor:"#00a651","--tw-ring-color":"#00a651"}})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{htmlFor:"is_downloadable",className:"block text-sm font-semibold text-gray-900 mb-1 font-montserrat cursor-pointer",children:[e.jsx("i",{className:"fas fa-download mr-2",style:{color:t.is_downloadable?"#00a651":"#6b7280"}}),"Make Resource Downloadable for Attendees"]}),e.jsx("p",{className:"text-xs text-gray-600 font-lato leading-relaxed",children:t.is_downloadable?e.jsx("span",{className:"text-green-700 font-medium",children:"âœ“ This resource will be available for download on the public event page"}):e.jsx("span",{children:"When enabled, registered attendees will be able to download this resource from the event page"})})]})]})}),e.jsx("div",{className:"pt-6 border-t border-primary-100 mt-6 flex justify-end",children:e.jsxs("button",{type:"submit",disabled:x,className:"inline-flex items-center gap-3 px-6 py-3 bg-primary text-white text-sm font-semibold rounded-xl hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[e.jsx("i",{className:"fas fa-save w-5 h-5"}),x?"Saving...":"Save Resource"]})})]})]})]})}export{E as default};
