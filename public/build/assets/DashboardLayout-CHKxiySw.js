import{u as re,b as r,j as e,L as d,r as H,e as j}from"./app-Cs9jEqCJ.js";import{u as Ne,T as ye}from"./Toast-e1HMQsHT.js";import{c as i}from"./createLucideIcon-BrlwNA_4.js";import{D as l}from"./index-B7mgmw7u.js";import{M as ve}from"./menu-Ct6K1sdo.js";import{H as we}from"./house-J3cK0ICJ.js";import{S as ke}from"./shopping-cart-BVmJt-7R.js";import{U as Se,C as le}from"./user-CgIDqBLC.js";import{B as ne}from"./book-open-ntIdwci1.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Ce=i("banknote",_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Z=i("bell",Me);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M12.127 22H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v5.125",key:"vxdnp4"}],["path",{d:"M14.62 18.8A2.25 2.25 0 1 1 18 15.836a2.25 2.25 0 1 1 3.38 2.966l-2.626 2.856a.998.998 0 0 1-1.507 0z",key:"15cy7q"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],$e=i("calendar-heart",ze);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ee=i("chevron-down",Re);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],te=i("external-link",Le);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ee=i("graduation-cap",De);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],se=i("layout-dashboard",Ae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],Ie=i("life-buoy",Te);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],He=i("log-out",Be);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],ie=i("mic",qe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_=i("search",Oe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ve=i("send",Ue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fe=i("settings",Pe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qe=i("users",Ge);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oe=i("x",We);function Xe(){const{props:n}=re(),[o,m]=r.useState(!0),[t,C]=r.useState({});if(r.useEffect(()=>{const{success:f,danger:v,warning:x,info:b}=n.flash||{};if(C({success:f,danger:v,warning:x,info:b}),m(!0),f||v||x||b){const h=setTimeout(()=>{m(!1)},5e3);return()=>clearTimeout(h)}},[n.flash]),!o||!t.success&&!t.danger&&!t.warning&&!t.info)return null;const N=t.success||t.danger||t.warning||t.info,y=t.success?"success":t.danger?"danger":t.warning?"warning":"info",M="fixed top-5 right-5 z-50 px-6 py-4 rounded-lg shadow-lg flex items-center",z={success:"bg-green-500 text-white",danger:"bg-red-500 text-white",warning:"bg-yellow-500 text-black",info:"bg-blue-500 text-white"};return e.jsxs("div",{className:`${M} ${z[y]}`,children:[e.jsx("span",{className:"mr-4",children:N}),e.jsx("button",{onClick:()=>m(!1),className:"ml-auto",children:e.jsx(oe,{size:20})})]})}function lt({children:n}){var K,Y;const{auth:o,sideLinks:m}=re().props,t=o==null?void 0:o.user;Ne();const C=m||[],[N,y]=r.useState(!1),[M,z]=r.useState([]),[f,v]=r.useState(!1),[x,b]=r.useState(""),[h,$]=r.useState(null),[q,O]=r.useState(!1),[U,u]=r.useState(!1),R=r.useRef(null),g=r.useRef(void 0),[L,V]=r.useState(!1),D=r.useRef(null),[E,A]=r.useState(!1),[P,w]=r.useState([]),[k,S]=r.useState(0),T=r.useRef(null),[I,F]=r.useState(0),ce=s=>{z(a=>a.includes(s)?a.filter(c=>c!==s):[...a,s])},G=s=>s?t!=null&&t.permissions?(Array.isArray(s)?s:[s]).some(c=>t.permissions.includes(c)):!1:!0,de=s=>!s||!(t!=null&&t.permissions)?!1:(Array.isArray(s)?s:[s]).some(c=>t.permissions.includes(c)),xe=s=>!(!G(s.permission)||de(s.exclude_permission)),me=s=>{s.preventDefault(),H.post(l("logout"))},he=()=>t!=null&&t.photo?`/storage/${t.photo}`:`https://ui-avatars.com/api/?name=${encodeURIComponent((t==null?void 0:t.name)||"")}&background=002147&color=fff`,Q=s=>{if(b(s),g.current&&clearTimeout(g.current),s.trim().length<2){$(null),u(!1);return}O(!0),u(!0),g.current=setTimeout(async()=>{try{const a=await j.get(l("search"),{params:{q:s}});$(a.data)}catch{$(null)}finally{O(!1)}},300)},W=s=>{let a="";switch(s.type){case"event":a=l("events.show",s.slug);break;case"course":a=l("courses.show",s.slug);break;case"speaker":a=l("speakers.show",s.slug);break}H.visit(a),u(!1),b("")},X=async()=>{try{const s=await j.get(l("notifications.index"));w(s.data.notifications||[]),S(s.data.unread_count||0)}catch{w([]),S(0)}},ue=async s=>{try{const a=await j.post(l("notifications.mark-as-read",s));S(a.data.unread_count),w(c=>c.map(p=>p.id===s?{...p,read_at:new Date().toISOString()}:p))}catch{}},pe=async()=>{try{await j.post(l("notifications.mark-all-as-read")),S(0),w(s=>s.map(a=>({...a,read_at:new Date().toISOString()})))}catch{}},fe=s=>{s.read_at||ue(s.id),s.action_url&&H.visit(s.action_url),A(!1)},be=async()=>{try{const s=await j.get(l("cart.count"));F(s.data.count||0)}catch{F(0)}};r.useEffect(()=>{X(),be()},[]),r.useEffect(()=>{const s=a=>{R.current&&!R.current.contains(a.target)&&u(!1),D.current&&!D.current.contains(a.target)&&V(!1),T.current&&!T.current.contains(a.target)&&A(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]),r.useEffect(()=>()=>{g.current&&clearTimeout(g.current)},[]);const J=s=>({"chart-area":se,"book-open":ne,"calendar-heart":$e,send:Ve,calendar:le,mic:ie,"graduation-cap":Ee,users:Qe,settings:Fe,"life-buoy":Ie,banknote:Ce})[s]||se;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(ye,{}),e.jsx(Xe,{}),e.jsx("aside",{className:`fixed top-0 left-0 z-40 w-64 h-screen transition-transform ${N?"translate-x-0":"-translate-x-full"} sm:translate-x-0 bg-linear-to-b from-slate-900 to-slate-800 shadow-2xl`,children:e.jsxs("div",{className:"h-full px-4 py-6 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 pb-6 border-b border-slate-700/50",children:[e.jsxs(d,{href:l("user_dashboard"),className:"flex items-center space-x-3 group",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:"/images/logo.jpg",className:"h-10 w-10 rounded-xl shadow-lg ring-2 ring-white/10 group-hover:ring-white/20 transition-all duration-300",alt:"BLI Logo"})}),e.jsx("span",{className:"text-white font-bold text-lg tracking-tight group-hover:text-blue-300 transition-colors duration-300",children:"BLI"})]}),e.jsx("button",{onClick:()=>y(!1),className:"inline-flex items-center p-2 text-sm text-slate-400 rounded-lg sm:hidden hover:bg-slate-700/50 hover:text-white",children:e.jsx(oe,{size:20})})]}),e.jsx("nav",{className:"text-slate-300",children:e.jsx("ul",{className:"space-y-1",children:C.map((s,a)=>{if(!xe(s))return null;if(s.children){const p=M.includes(s.title),ge=J(s.icon);return e.jsxs("li",{children:[e.jsxs("button",{onClick:()=>ce(s.title),className:"flex items-center w-full p-3 text-sm font-medium text-slate-300 transition-all duration-200 rounded-xl group hover:bg-slate-700/50 hover:text-white",children:[e.jsx(ge,{size:18,className:"text-slate-400 transition-colors duration-200 group-hover:text-blue-400 mr-3 shrink-0"}),e.jsx("span",{className:"flex-1 text-left whitespace-nowrap",children:s.title}),e.jsx(ee,{size:16,className:`text-slate-400 transition-all duration-200 ${p?"rotate-180":""}`})]}),p&&e.jsx("ul",{className:"mt-2 space-y-1 ml-4",children:s.children.map((B,je)=>G(B.permission)?e.jsx("li",{children:e.jsxs(d,{href:l(B.route),className:"flex items-center w-full p-2.5 text-sm text-slate-400 transition-all duration-200 rounded-lg hover:bg-slate-700/30 hover:text-white hover:translate-x-1 border-l-2 border-slate-600 hover:border-blue-400 pl-4",children:[e.jsx("span",{className:"w-2 h-2 bg-slate-500 rounded-full mr-3"}),B.title]})},je):null)})]},a)}const c=J(s.icon);return e.jsx("li",{children:e.jsxs(d,{href:l(s.route),className:"flex items-center p-3 text-sm font-medium text-slate-300 rounded-xl transition-all duration-200 hover:bg-slate-700/50 hover:text-white group",children:[e.jsx(c,{size:18,className:"text-slate-400 transition-colors duration-200 group-hover:text-blue-400 mr-3 shrink-0"}),e.jsx("span",{className:"flex-1 whitespace-nowrap",children:s.title})]})},a)})})})]})}),e.jsxs("div",{className:"sm:ml-64",children:[e.jsx("nav",{className:"bg-white/95 backdrop-blur-md border-b border-slate-200 shadow-lg sticky top-0 z-30",children:e.jsxs("div",{className:"px-4 lg:px-6 py-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>y(!N),className:"inline-flex items-center p-2 text-slate-600 rounded-xl sm:hidden hover:bg-primary-600 hover:text-white",children:e.jsx(ve,{size:20})}),e.jsx("nav",{className:"hidden sm:flex items-center space-x-2 text-sm",children:e.jsxs(d,{href:l("user_dashboard"),className:"flex items-center text-slate-500 hover:text-primary-600 transition-colors",style:{color:l().current("user_dashboard")?"#002147":void 0},children:[e.jsx(we,{size:16,className:"mr-1"}),e.jsx("span",{className:"font-medium",children:"Dashboard"})]})})]}),e.jsx("div",{className:"hidden lg:flex flex-1 max-w-lg mx-8",ref:R,children:e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(_,{size:16,className:"text-slate-400"})}),e.jsx("input",{type:"search",value:x,onChange:s=>Q(s.target.value),onFocus:()=>x.length>=2&&u(!0),className:"block w-full pl-10 pr-4 py-2.5 text-sm text-slate-900 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:border-primary-500 transition-all",style:{"--tw-ring-color":"#002147"},placeholder:"Search events, courses, speakers..."}),U&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-2xl border border-slate-200 max-h-96 overflow-y-auto z-50",children:q?e.jsxs("div",{className:"p-8 text-center text-slate-500",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),e.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):h&&e.jsx(ae,{results:h,onSelect:W})})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(d,{href:l("homepage"),className:"hidden md:inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-600 bg-slate-100 rounded-lg hover:bg-primary-600 hover:text-white transition-all",children:[e.jsx(te,{size:16}),e.jsx("span",{className:"hidden lg:inline",children:"Website"})]}),e.jsx("button",{className:"lg:hidden p-2 text-slate-600 rounded-lg hover:bg-slate-100",onClick:()=>v(!f),children:e.jsx(_,{size:20})}),e.jsxs(d,{href:l("cart.index"),className:"relative p-2 text-slate-600 rounded-lg hover:bg-slate-100 transition-all",children:[e.jsx(ke,{size:20}),I>0&&e.jsx("span",{className:"absolute top-0 right-0 flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-primary-500 rounded-full",children:I>9?"9+":I})]}),e.jsxs("div",{className:"relative",ref:T,children:[e.jsxs("button",{onClick:()=>{A(!E),E||X()},className:"relative p-2 text-slate-600 rounded-lg hover:bg-slate-100 transition-all",children:[e.jsx(Z,{size:20}),k>0&&e.jsx("span",{className:"absolute top-0 right-0 flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full",children:k>9?"9+":k})]}),E&&e.jsxs("div",{className:"absolute right-0 mt-2 w-96 max-h-128 bg-white rounded-xl shadow-xl border border-slate-200 overflow-hidden z-50",children:[e.jsxs("div",{className:"px-4 py-3 bg-linear-to-r from-primary-50 to-slate-50 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Notifications"}),k>0&&e.jsx("button",{onClick:pe,className:"text-xs text-primary-600 hover:text-primary-700 font-medium",children:"Mark all as read"})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:P.length===0?e.jsxs("div",{className:"px-4 py-8 text-center text-slate-500",children:[e.jsx(Z,{size:32,className:"mx-auto mb-2 text-slate-300"}),e.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):e.jsx("ul",{children:P.map(s=>e.jsx("li",{className:`border-b border-slate-100 last:border-b-0 ${s.read_at?"":"bg-blue-50/50"}`,children:e.jsx("button",{onClick:()=>fe(s),className:"w-full px-4 py-3 text-left hover:bg-slate-50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-slate-800 line-clamp-2",children:s.message}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:s.created_at})]}),!s.read_at&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-1 shrink-0"})]})})},s.id))})})]})]}),e.jsxs("div",{className:"relative",ref:D,children:[e.jsxs("button",{onClick:()=>V(!L),className:"flex items-center gap-2 p-1.5 text-sm bg-slate-50 rounded-xl hover:bg-slate-100 transition-all",children:[e.jsx("img",{className:"w-8 h-8 rounded-lg object-cover border border-slate-200",src:he(),alt:t==null?void 0:t.name}),e.jsxs("div",{className:"hidden md:block text-left",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-700 leading-tight",children:(K=t==null?void 0:t.name)==null?void 0:K.substring(0,12)}),e.jsx("p",{className:"text-xs text-slate-500 leading-tight",children:(Y=t==null?void 0:t.email)==null?void 0:Y.substring(0,20)})]}),e.jsx(ee,{size:16,className:`text-slate-400 transition-transform duration-200 ${L?"rotate-180":""}`})]}),L&&e.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-slate-200 overflow-hidden z-50",children:[e.jsxs("div",{className:"px-4 py-3 bg-linear-to-r from-primary-50 to-slate-50",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-800",children:t==null?void 0:t.name}),e.jsx("p",{className:"text-sm text-slate-600 truncate",children:t==null?void 0:t.email})]}),e.jsxs("ul",{className:"py-2",children:[e.jsx("li",{children:e.jsxs(d,{href:l("homepage"),className:"flex items-center gap-3 px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 hover:text-primary-600 transition-colors",children:[e.jsx(te,{size:16,className:"text-slate-400"}),"Visit Website"]})}),e.jsx("li",{children:e.jsxs(d,{href:l("profile.edit"),className:"flex items-center gap-3 px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 hover:text-primary-600 transition-colors",children:[e.jsx(Se,{size:16,className:"text-slate-400"}),"Profile Settings"]})}),e.jsx("li",{className:"border-t border-slate-100 mt-1 pt-1",children:e.jsxs("button",{onClick:me,className:"flex items-center gap-3 w-full px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(He,{size:16,className:"text-red-500"}),"Sign out"]})})]})]})]})]})]}),f&&e.jsx("div",{className:"lg:hidden mt-4 pt-4 border-t border-slate-200",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(_,{size:16,className:"text-slate-400"})}),e.jsx("input",{type:"search",value:x,onChange:s=>Q(s.target.value),onFocus:()=>x.length>=2&&u(!0),className:"block w-full pl-10 pr-4 py-2.5 text-sm text-slate-900 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:border-primary-500",placeholder:"Search events, courses, speakers..."}),U&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-2xl border border-slate-200 max-h-96 overflow-y-auto z-50",children:q?e.jsxs("div",{className:"p-8 text-center text-slate-500",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),e.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):h&&e.jsx(ae,{results:h,onSelect:W})})]})})]})}),e.jsx("main",{className:"p-4 lg:p-6",children:n})]})]})}function ae({results:n,onSelect:o}){return n.events.length+n.courses.length+n.speakers.length===0?e.jsxs("div",{className:"p-8 text-center text-slate-500",children:[e.jsx(_,{size:32,className:"mx-auto text-slate-300 mb-2"}),e.jsx("p",{className:"text-sm font-medium",children:"No results found"}),e.jsx("p",{className:"text-xs mt-1",children:"Try a different search term"})]}):e.jsxs("div",{className:"py-2",children:[n.events.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"px-4 py-2 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:["Events (",n.events.length,")"]}),n.events.map(t=>e.jsx("button",{onClick:()=>o(t),className:"w-full px-4 py-3 hover:bg-slate-50 transition-colors text-left border-b border-slate-100 last:border-0",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(le,{size:16,className:"text-blue-500 mt-1 shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm text-slate-900 truncate",children:t.title}),t.subtitle&&e.jsx("p",{className:"text-xs text-slate-600 truncate",children:t.subtitle}),t.meta&&e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:t.meta})]})]})},`event-${t.id}`))]}),n.courses.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"px-4 py-2 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:["Courses (",n.courses.length,")"]}),n.courses.map(t=>e.jsx("button",{onClick:()=>o(t),className:"w-full px-4 py-3 hover:bg-slate-50 transition-colors text-left border-b border-slate-100 last:border-0",children:e.jsxs("div",{className:"flex items-start gap-3",children:[t.thumbnail?e.jsx("img",{src:`/storage/${t.thumbnail}`,alt:t.title,className:"w-12 h-12 rounded object-cover shrink-0"}):e.jsx("div",{className:"w-12 h-12 rounded bg-linear-to-br from-green-100 to-green-50 flex items-center justify-center shrink-0",children:e.jsx(ne,{size:20,className:"text-green-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm text-slate-900 truncate",children:t.title}),t.subtitle&&e.jsxs("p",{className:"text-xs text-slate-600 truncate",children:["By ",t.subtitle]}),t.meta&&e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:t.meta})]})]})},`course-${t.id}`))]}),n.speakers.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"px-4 py-2 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:["Speakers (",n.speakers.length,")"]}),n.speakers.map(t=>e.jsx("button",{onClick:()=>o(t),className:"w-full px-4 py-3 hover:bg-slate-50 transition-colors text-left border-b border-slate-100 last:border-0",children:e.jsxs("div",{className:"flex items-start gap-3",children:[t.thumbnail?e.jsx("img",{src:`/storage/${t.thumbnail}`,alt:t.title,className:"w-12 h-12 rounded-full object-cover shrink-0"}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-linear-to-br from-purple-100 to-purple-50 flex items-center justify-center shrink-0",children:e.jsx(ie,{size:20,className:"text-purple-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm text-slate-900 truncate",children:t.title}),t.subtitle&&e.jsx("p",{className:"text-xs text-slate-600 truncate",children:t.subtitle}),t.meta&&e.jsx("p",{className:"text-xs text-slate-500 mt-0.5 line-clamp-2",children:t.meta})]})]})},`speaker-${t.id}`))]})]})}export{Ce as B,lt as D,Ee as G,_ as S,oe as X,Ve as a};
