import{u as m,a as x,j as e,H as g}from"./app-D9tvVow-.js";import{D as p}from"./DashboardLayout-Bi_AonL-.js";import{R as h}from"./RichTextEditor-DqbT50h2.js";import"./Toast-BnIk0nPj.js";import"./createLucideIcon-BPkO95tr.js";import"./index-B7mgmw7u.js";import"./menu-CEgzx7IS.js";import"./house-CKYHwo1x.js";import"./shopping-cart-CC-H5erO.js";import"./user-BFX0Ujty.js";import"./book-open--7PgwzUv.js";import"./index-MZQj6FPx.js";function E({post:r}){const{sideLinks:o}=m().props,{data:a,setData:l,post:n,processing:d,errors:s}=x({title:r.title,slug:r.slug,excerpt:r.excerpt||"",content:r.content,featured_image:null,status:r.status,_method:"PUT"}),c=t=>{t.preventDefault(),n(route("admin.posts.update",r.id),{forceFormData:!0})},u=()=>{const t=a.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");l("slug",t)};return e.jsxs(p,{sideLinks:o,children:[e.jsx(g,{title:`Edit: ${r.title}`}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Blog Post"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update your blog post"})]}),e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),e.jsx("input",{type:"text",id:"title",value:a.title,onChange:t=>l("title",t.target.value),onBlur:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent",required:!0}),s.title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.title})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug"}),e.jsx("input",{type:"text",id:"slug",value:a.slug,onChange:t=>l("slug",t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent",placeholder:"auto-generated-from-title"}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["URL: /blog/",a.slug]}),s.slug&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.slug})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"excerpt",className:"block text-sm font-medium text-gray-700 mb-2",children:"Excerpt"}),e.jsx("textarea",{id:"excerpt",value:a.excerpt,onChange:t=>l("excerpt",t.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent",placeholder:"A brief summary of the post..."}),s.excerpt&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.excerpt})]}),e.jsx("div",{children:e.jsx(h,{label:"Content",value:a.content,onChange:t=>l("content",t),error:s.content,placeholder:"Write your blog post content here...",required:!0})}),r.featured_image&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Featured Image"}),e.jsx("img",{src:`/storage/${r.featured_image}`,alt:r.title,className:"w-64 h-auto rounded-lg shadow-md"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"featured_image",className:"block text-sm font-medium text-gray-700 mb-2",children:r.featured_image?"Replace Featured Image":"Featured Image"}),e.jsx("input",{type:"file",id:"featured_image",onChange:t=>{var i;return l("featured_image",((i=t.target.files)==null?void 0:i[0])||null)},accept:"image/*",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent"}),s.featured_image&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.featured_image})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),e.jsxs("select",{id:"status",value:a.status,onChange:t=>l("status",t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent",required:!0,children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"published",children:"Published"})]}),s.status&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.status})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[e.jsx("a",{href:route("admin.posts.index"),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:"px-6 py-2 bg-accent text-white rounded-lg hover:bg-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Updating...":"Update Post"})]})]})]})})]})}export{E as default};
