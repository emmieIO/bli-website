import{u as k,b as m,j as e,H as _,L as p,r as C}from"./app-63X6Ah_A.js";import{D as A}from"./DashboardLayout-B0i_67k7.js";import{C as L}from"./ConfirmModal-BUGo9g5u.js";import"./Toast-BItVFW1U.js";import"./createLucideIcon-DvCTRfYt.js";import"./index-B7mgmw7u.js";import"./menu-BGW4nfae.js";import"./house-Rmg1qdOk.js";import"./shopping-cart-DcL4Uy6X.js";import"./user-M0mJPmzy.js";import"./book-open-CIt5k5tX.js";function F({events:h}){const{sideLinks:f}=k().props,[a,o]=m.useState([]),[j,u]=m.useState(!1),[n,y]=m.useState(null),[b,c]=m.useState(!1),d=new URLSearchParams(window.location.search).get("status")||"all",i=h.data||[],N=t=>{o(t?i.map(s=>s.id):[])},v=(t,s)=>{o(s?[...a,t]:a.filter(r=>r!==t))},w=t=>{y(t),u(!0)},D=()=>{n&&(c(!0),C.delete(route("admin.events.destroy",n.slug),{onSuccess:()=>{u(!1),y(null),c(!1)},onError:()=>{c(!1)},onFinish:()=>{c(!1)}}))},E=t=>{const s=new Date,r=new Date(t.start_date),l=new Date(t.end_date);return t.is_published?l<s?"ended":r>s?"upcoming":"ongoing":"draft"},S=t=>{const s={draft:"bg-gray-100 text-gray-800",ended:"bg-gray-100 text-gray-800",upcoming:"bg-green-100 text-green-800",ongoing:"bg-blue-100 text-blue-800"},r={draft:"Draft",ended:"Event Ended",upcoming:"Upcoming",ongoing:"Ongoing"};return{class:s[t],label:r[t]}},g=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e.jsxs(A,{sideLinks:f,children:[e.jsx(_,{title:"Events Management - Beacon Leadership Institute"}),e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-primary font-montserrat",children:"Events Management"}),e.jsx("p",{className:"text-sm text-gray-500 font-lato",children:"Organize and manage all your conference events"})]})}),e.jsx("div",{className:"mb-6 border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:[e.jsx(x,{label:"All Events",href:route("admin.events.index")+"?status=all",isActive:d==="all"}),e.jsx(x,{label:"Upcoming",href:route("admin.events.index")+"?status=upcoming",isActive:d==="upcoming"}),e.jsx(x,{label:"Past Events",href:route("admin.events.index")+"?status=past",isActive:d==="past"}),e.jsx(x,{label:"Drafts",href:route("admin.events.index")+"?status=draft",isActive:d==="draft"}),e.jsxs(p,{href:route("admin.events.create"),className:"inline-flex items-center gap-2 px-4 py-2 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:text-primary hover:border-primary transition-colors font-montserrat",children:[e.jsx("i",{className:"fas fa-plus w-4 h-4"}),"Create Event"]})]})}),a.length>0&&e.jsx("div",{className:"bg-primary-50 px-6 py-3 border-b border-primary-200 rounded-t-lg mb-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-primary-700 font-lato",children:[a.length," events selected"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{className:"text-green-600 hover:text-green-700 text-sm font-medium inline-flex items-center gap-2 font-lato",children:[e.jsx("i",{className:"fas fa-paper-plane w-4 h-4"})," Publish Selected"]}),e.jsxs("button",{className:"text-primary hover:text-primary-600 text-sm font-medium inline-flex items-center gap-2 font-lato",children:[e.jsx("i",{className:"fas fa-archive w-4 h-4"})," Archive Selected"]}),e.jsxs("button",{className:"text-red-600 hover:text-red-700 text-sm font-medium inline-flex items-center gap-2 font-lato",children:[e.jsx("i",{className:"fas fa-trash w-4 h-4"})," Delete Selected"]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow border border-primary-100 overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-primary-100",children:[e.jsx("thead",{className:"bg-primary-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary uppercase tracking-wider font-montserrat w-4",children:e.jsx("input",{type:"checkbox",checked:a.length===i.length&&i.length>0,onChange:t=>N(t.target.checked),className:"rounded border-gray-300 text-primary focus:ring-primary"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary uppercase tracking-wider font-montserrat",children:"Event"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary uppercase tracking-wider font-montserrat",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary uppercase tracking-wider font-montserrat",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary uppercase tracking-wider font-montserrat",children:"Speakers"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-primary uppercase tracking-wider font-montserrat",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-primary-100",children:i.length>0?i.map(t=>{const s=E(t),r=S(s);return e.jsxs("tr",{className:"hover:bg-primary-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:a.includes(t.id),onChange:l=>v(t.id,l.target.checked),className:"rounded border-gray-300 text-primary focus:ring-primary"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[t.program_cover&&e.jsx("img",{className:"h-10 w-10 rounded-md object-cover",src:`/storage/${t.program_cover}`,alt:t.title,onError:l=>{l.target.src="https://placehold.co/600x400?text=Cover+Image+Missing"}}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-sm text-primary font-montserrat",children:t.title}),e.jsx("div",{className:"text-sm text-gray-500 font-lato",children:t.location||"Online Event"})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-primary font-montserrat",children:g(t.start_date)}),e.jsxs("div",{className:"text-xs text-gray-500 font-lato",children:[g(t.start_date)," - ",g(t.end_date)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs font-semibold rounded-full ${r.class} font-montserrat`,children:r.label})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"text-sm text-gray-700 font-lato",children:[t.speakers_count||0," speakers"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(p,{href:route("admin.events.show",t.slug),className:"text-primary hover:text-primary-600 transition-colors",title:"View",children:e.jsx("i",{className:"fas fa-eye w-4 h-4"})}),e.jsx(p,{href:route("admin.events.edit",t.slug),className:"text-blue-600 hover:text-blue-700 transition-colors",title:"Edit",children:e.jsx("i",{className:"fas fa-edit w-4 h-4"})}),e.jsx("button",{onClick:()=>w(t),className:"text-red-600 hover:text-red-700 transition-colors",title:"Delete",children:e.jsx("i",{className:"fas fa-trash w-4 h-4"})})]})})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("i",{className:"fas fa-calendar-times w-12 h-12 text-gray-300 mb-4"}),e.jsx("p",{className:"font-lato",children:"No events found"})]})})})})]})}),e.jsx(L,{show:j,onClose:()=>u(!1),onConfirm:D,title:"Delete Event",message:e.jsxs("span",{children:["Are you sure you want to delete the event ",e.jsx("strong",{children:n==null?void 0:n.title}),"? This action cannot be undone."]}),confirmText:"Delete Event",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white",icon:e.jsx("i",{className:"fas fa-exclamation-circle text-4xl text-red-500 mb-2"}),isProcessing:b})]})}function x({label:h,href:f,isActive:a}){return e.jsx(p,{href:f,className:`inline-flex items-center px-1 py-4 border-b-2 text-sm font-medium transition-colors font-montserrat ${a?"border-primary text-primary":"border-transparent text-gray-500 hover:text-primary hover:border-primary"}`,children:h})}export{F as default};
