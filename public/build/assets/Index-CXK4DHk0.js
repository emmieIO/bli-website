import{u as y,r as c,j as e,H as j,L as d,a as v}from"./app-iZFBwIkI.js";import{D as b}from"./DashboardLayout-CbaSFTCh.js";import{B as x}from"./Button-DF91oT0z.js";import"./Toast-1DjreMWI.js";function L({events:t}){const{sideLinks:n}=y().props,[i,r]=c.useState(!1),[a,l]=c.useState(null),[u,m]=c.useState(!1),h=s=>{l(s),r(!0)},f=s=>{s.preventDefault(),a&&(m(!0),v.delete(route("user.revoke.event",a.slug),{preserveScroll:!0,onFinish:()=>{m(!1),r(!1),l(null)}}))},p=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),g=s=>{var o;return 5-(((o=s.pivot)==null?void 0:o.revoke_count)??0)};return e.jsxs(b,{sideLinks:n,children:[e.jsx(j,{title:"My Events - Beacon Leadership Institute"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-primary font-montserrat",children:"My Events"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto font-lato",children:"Manage your event registrations and stay updated with your schedule"})]}),e.jsx("div",{className:"grid lg:grid-cols-2 xl:grid-cols-3 gap-8",children:t.length>0?t.map(s=>e.jsx(N,{event:s,formatDate:p,onCancelClick:h},s.id)):e.jsx(w,{})}),t.length>0&&e.jsx("div",{className:"text-center pt-8 border-t border-primary-50",children:e.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[e.jsx("p",{className:"text-gray-600 font-lato",children:"Looking for more events to join?"}),e.jsxs(d,{href:route("events.index"),className:"inline-flex items-center gap-3 bg-gradient-to-r from-primary to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-semibold px-8 py-4 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl font-montserrat",children:[e.jsx("i",{className:"fas fa-sparkles w-5 h-5"}),"Explore More Events"]})]})})]}),i&&a&&e.jsx(C,{event:a,remainingChances:g(a),isProcessing:u,onClose:()=>r(!1),onConfirm:f})]})}function N({event:t,formatDate:n,onCancelClick:i}){const r=l=>{switch(l){case"upcoming":return"bg-accent text-white shadow-md";case"ongoing":return"bg-blue-500 text-white shadow-md";default:return"bg-gray-100 text-gray-700"}},a=l=>{switch(l){case"upcoming":return"bg-accent animate-pulse";case"ongoing":return"bg-blue-500 animate-pulse";default:return"bg-gray-400"}};return e.jsxs("div",{className:"group bg-white border border-primary-50 shadow-sm rounded-2xl p-6 flex flex-col justify-between space-y-5 hover:shadow-2xl hover:border-primary-100 transition-all duration-300 transform hover:-translate-y-1",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-xs font-semibold px-3 py-1.5 rounded-full font-montserrat capitalize ${r(t.status)}`,children:t.status}),e.jsx("div",{className:`w-2 h-2 rounded-full ${a(t.status)}`})]}),e.jsx("h3",{className:"text-xl font-bold text-primary font-montserrat leading-tight group-hover:text-primary-600 transition-colors",children:t.title})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-primary-700",children:[e.jsx("i",{className:"fas fa-calendar w-4 h-4 text-primary-500"}),e.jsx("span",{className:"font-lato font-medium",children:n(t.start_date)})]}),e.jsxs("div",{className:"flex items-center gap-3 text-primary-700",children:[e.jsx("i",{className:"fas fa-map-marker-alt w-4 h-4 text-primary-500"}),e.jsx("span",{className:"font-lato",children:t.location||"Location TBA"})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-primary-100 mt-2",children:[e.jsxs(d,{href:route("events.show",t.slug),className:"inline-flex items-center gap-2 text-sm text-primary hover:text-primary-600 font-medium font-lato transition-colors group-hover:underline",children:[e.jsx("i",{className:"fas fa-external-link-alt w-4 h-4"}),"View Details"]}),e.jsxs("button",{onClick:()=>i(t),disabled:t.status==="ended",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 disabled:text-gray-400 disabled:cursor-not-allowed transition-all duration-200 font-lato group-hover:scale-105",children:[e.jsx("i",{className:"fas fa-times-circle w-4 h-4"}),"Cancel"]})]})]})}function w(){return e.jsx("div",{className:"col-span-3 text-center py-16 px-8 bg-gradient-to-br from-primary-50 to-white rounded-2xl border-2 border-dashed border-primary-100",children:e.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[e.jsx("div",{className:"w-20 h-20 mx-auto bg-primary-100 rounded-2xl flex items-center justify-center",children:e.jsx("i",{className:"fas fa-calendar-times w-10 h-10 text-primary-400"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-2xl font-bold text-primary font-montserrat",children:"No Events Yet"}),e.jsx("p",{className:"text-gray-600 font-lato leading-relaxed",children:"You haven't registered for any events yet. Explore our upcoming events and join the community!"})]}),e.jsxs(d,{href:route("events.index"),className:"inline-flex items-center gap-3 bg-primary hover:bg-primary-600 text-white font-semibold px-8 py-4 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl font-montserrat",children:[e.jsx("i",{className:"fas fa-calendar-plus w-5 h-5"}),"Browse All Events"]})]})})}function C({event:t,remainingChances:n,isProcessing:i,onClose:r,onConfirm:a}){return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4",children:[e.jsx("button",{type:"button",onClick:r,className:"absolute top-3 right-3 text-gray-400 hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 inline-flex justify-center items-center",children:e.jsx("i",{className:"fas fa-times w-3 h-3"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 w-12 h-12 text-red-600 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-exclamation-triangle w-12 h-12"})}),e.jsxs("div",{className:"mb-5 space-y-2",children:[e.jsxs("h3",{className:"text-lg text-gray-800 font-montserrat font-semibold",children:["Are you sure you want to unregister from:"," ",e.jsx("span",{className:"font-bold text-primary",children:t.title}),"?"]}),e.jsx("p",{className:"font-lato text-sm text-accent font-bold",children:"Staying registered enables us send you notifications & reminders on this event."}),n<5&&e.jsxs("p",{className:"font-lato text-sm text-red-600 font-medium",children:["You have ",n," cancellation",n!==1?"s":""," remaining."]})]}),e.jsxs("form",{onSubmit:a,className:"flex justify-center gap-3",children:[e.jsx(x,{type:"submit",variant:"danger",loading:i,children:"Yes, I'm sure"}),e.jsx(x,{type:"button",variant:"secondary",onClick:r,children:"No, cancel"})]})]})]})})}export{L as default};
