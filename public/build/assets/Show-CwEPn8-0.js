import{a as c,j as e,H as o,L as x}from"./app-Cs9jEqCJ.js";import{D as h,a as j}from"./DashboardLayout-CHKxiySw.js";import{A as p}from"./arrow-left-BgKhROI8.js";import"./Toast-e1HMQsHT.js";import"./createLucideIcon-BrlwNA_4.js";import"./index-B7mgmw7u.js";import"./menu-Ct6K1sdo.js";import"./house-J3cK0ICJ.js";import"./shopping-cart-BVmJt-7R.js";import"./user-CgIDqBLC.js";import"./book-open-ntIdwci1.js";function _({ticket:s}){const{data:i,setData:d,post:m,processing:a,errors:t,reset:l}=c({message:""});function n(r){r.preventDefault(),m(route("user.tickets.reply",s.id),{onSuccess:()=>l("message")})}return e.jsxs(h,{children:[e.jsx(o,{title:`Ticket: ${s.subject}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 bg-white border-b border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-500 mb-1",children:["Ticket #",s.reference_code]}),e.jsx("h1",{className:"text-2xl font-bold",children:s.subject})]}),e.jsxs(x,{href:route("user.tickets.index"),className:"inline-flex items-center px-4 py-2 bg-gray-200 text-gray-700 rounded-md",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Back to Tickets"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",s.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Priority:"})," ",s.priority]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Created:"})," ",new Date(s.created_at).toLocaleString()]})]}),e.jsx("div",{className:"space-y-4",children:s.replies.map(r=>e.jsxs("div",{className:"p-4 rounded-lg bg-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"font-bold",children:r.user.name}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(r.created_at).toLocaleString()})]}),e.jsx("p",{children:r.message})]},r.id))}),e.jsx("div",{className:"mt-8",children:e.jsxs("form",{onSubmit:n,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Your Reply"}),e.jsx("textarea",{id:"message",rows:4,value:i.message,onChange:r=>d("message",r.target.value),className:"mt-1 block w-full rounded-md border-gray-.300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),t.message&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t.message})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs("button",{type:"submit",className:"inline-flex items-center px-4 py-2 bg-primary text-white rounded-md",disabled:a,children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),a?"Sending...":"Send Reply"]})})]})})]})})})})]})}export{_ as default};
