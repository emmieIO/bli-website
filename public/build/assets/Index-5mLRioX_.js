import{b as l,j as e,H as M,L as i,r as g}from"./app-Cp7v2u_9.js";import{D as R}from"./DashboardLayout-BjqSuAzo.js";import{C as F}from"./ConfirmModal-DRQ9usnV.js";import"./Toast-8JuGi5xK.js";import"./createLucideIcon-kaVsqbWs.js";import"./index-B7mgmw7u.js";import"./menu-DlwJzBT-.js";import"./house-OwR5McaP.js";import"./shopping-cart-BYOEqszx.js";import"./user-DwB3wmU9.js";import"./book-open-CSYrxnEa.js";function Y({auth:n,courses:d,instructorStats:r,sideLinks:b}){const u=d.data||[],[j,o]=l.useState(!1),[y,m]=l.useState(!1),[s,a]=l.useState(null),[f,h]=l.useState(!1),[N,p]=l.useState(!1),w=t=>{a(t),o(!0)},v=()=>{s&&(h(!0),g.delete(route("instructor.courses.destroy",s.slug),{preserveScroll:!0,onFinish:()=>{h(!1),o(!1),a(null)}}))},S=t=>{a(t),m(!0)},C=()=>{s&&(p(!0),g.post(route("instructor.courses.submit-for-review",s.slug),{},{preserveScroll:!0,onFinish:()=>{p(!1),m(!1),a(null)}}))},D=t=>({draft:{label:"Draft",className:"bg-gray-100 text-gray-800"},pending:{label:"Pending Review",className:"bg-yellow-100 text-yellow-800"},under_review:{label:"Under Review",className:"bg-blue-100 text-blue-800"},approved:{label:"Approved",className:"bg-green-100 text-green-800"},rejected:{label:"Rejected",className:"bg-red-100 text-red-800"}})[t]||{label:"Unknown",className:"bg-gray-100 text-gray-800"},k=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e.jsxs(R,{user:n.user,sideLinks:b,children:[e.jsx(M,{title:"Instructor Dashboard"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-primary font-montserrat",children:"My Dashboard"}),e.jsxs("p",{className:"text-sm text-gray-500 font-lato",children:["Welcome back, ",n.user.name,"!"]})]}),e.jsxs(i,{href:route("instructor.courses.create"),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:[e.jsx("i",{className:"fas fa-plus"}),e.jsx("span",{children:"Create New Course"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(c,{icon:"fas fa-book",title:"Total Courses",value:r.total_courses}),e.jsx(c,{icon:"fas fa-users",title:"Total Students",value:r.total_students}),e.jsx(c,{icon:"fas fa-dollar-sign",title:"Total Earnings",value:`$${r.total_earnings.toFixed(2)}`}),e.jsx(c,{icon:"fas fa-star",title:"Average Rating",value:r.average_rating.toFixed(1)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow border border-primary-100 overflow-x-auto",children:[e.jsx("h2",{className:"text-lg font-bold text-primary p-4 font-montserrat",children:"My Courses"}),e.jsxs("table",{className:"min-w-full divide-y divide-primary-100",children:[e.jsx("thead",{className:"bg-primary-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary uppercase tracking-wider font-montserrat",children:"Course"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary uppercase tracking-wider font-montserrat",children:"Students"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary uppercase tracking-wider font-montserrat",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary uppercase tracking-wider font-montserrat",children:"Date Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-primary uppercase tracking-wider font-montserrat",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-primary-100",children:u.length>0?u.map(t=>{const x=D(t.status);return e.jsxs("tr",{className:"hover:bg-primary-50 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-bold text-sm text-primary font-montserrat",children:t.title}),e.jsx("div",{className:"text-sm text-gray-500 font-lato",children:t.category.name})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-700 font-lato",children:t.students.length})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs font-semibold rounded-full ${x.className} font-montserrat`,children:x.label})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 font-lato",children:k(t.created_at)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx(i,{href:route("instructor.courses.builder",t.slug),className:"text-primary hover:text-primary-700",title:"Edit Content",children:e.jsx("i",{className:"fas fa-layer-group"})}),"                                                ",t.status==="draft"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{href:route("instructor.courses.edit",t.slug),className:"text-blue-600 hover:text-blue-800",title:"Edit Settings",children:e.jsx("i",{className:"fas fa-cog"})}),e.jsx("button",{onClick:()=>S(t),className:"text-green-600 hover:text-green-800",title:"Submit for Review",children:e.jsx("i",{className:"fas fa-paper-plane"})}),e.jsx("button",{onClick:()=>w(t),className:"text-red-600 hover:text-red-800",title:"Delete",children:e.jsx("i",{className:"fas fa-trash"})})]}),t.status==="rejected"&&e.jsx(i,{href:route("instructor.courses.edit",t.slug),className:"text-blue-600 hover:text-blue-800",title:"Edit & Resubmit",children:e.jsx("i",{className:"fas fa-cog"})})]})})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("i",{className:"fas fa-book-open w-12 h-12 text-gray-300 mb-4"}),e.jsx("p",{className:"font-lato",children:"You haven't created any courses yet."}),e.jsx(i,{href:route("instructor.courses.create"),className:"mt-4 text-sm text-primary hover:underline",children:"Create your first course"})]})})})})]})]}),j&&s&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl p-6 w-full max-w-md mx-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 mb-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-montserrat",children:"Confirm Course Deletion"}),e.jsx("button",{type:"button",onClick:()=>o(!1),className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 inline-flex justify-center items-center transition-colors",children:e.jsx("i",{className:"fas fa-times w-4 h-4"})})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("i",{className:"fas fa-exclamation-triangle w-6 h-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 font-montserrat mb-2",children:"Delete Course"}),e.jsxs("div",{className:"text-sm text-gray-500 font-lato",children:[e.jsxs("p",{children:["Are you sure you want to delete"," ",e.jsx("span",{className:"font-semibold text-gray-900",children:s.title}),"?"]}),e.jsx("p",{className:"mt-1",children:"This action cannot be undone and will delete all modules, lessons, and progress."})]})]})}),e.jsxs("div",{className:"flex items-center justify-end pt-4 mt-4 border-t border-gray-200 gap-3",children:[e.jsx("button",{onClick:()=>o(!1),type:"button",className:"py-2.5 px-5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-lato",children:"Cancel"}),e.jsx("button",{onClick:v,disabled:f,className:"px-5 py-2.5 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors inline-flex items-center font-montserrat disabled:opacity-50 disabled:cursor-not-allowed",children:f?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin w-4 h-4 mr-2"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-trash w-4 h-4 mr-2"}),"Delete Course"]})})]})]})}),e.jsx(F,{show:y&&s!==null,onClose:()=>{m(!1),a(null)},onConfirm:C,title:"Submit Course for Review",message:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Submit ",e.jsxs("span",{className:"font-semibold text-gray-900",children:['"',s==null?void 0:s.title,'"']})," for admin review?"]}),e.jsx("p",{className:"mt-2 text-yellow-600",children:"You won't be able to edit this course until it has been reviewed by an admin."})]}),confirmText:"Submit for Review",confirmButtonClass:"bg-green-600 hover:bg-green-700 text-white",icon:e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"fas fa-paper-plane w-6 h-6 text-green-600"})}),isProcessing:N,processingText:"Submitting..."})]})}function c({icon:n,title:d,value:r}){return e.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-200 flex items-center gap-4",children:[e.jsx("div",{className:"bg-primary-100 text-primary rounded-full w-12 h-12 flex items-center justify-center",children:e.jsx("i",{className:`${n} text-xl`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-lato",children:d}),e.jsx("p",{className:"text-2xl font-bold text-primary font-montserrat",children:r})]})]})}export{Y as default};
