import{u as E,b as o,j as e,H as M,L as T,r as m}from"./app-Cp24Tua5.js";import{D as B}from"./DashboardLayout-CBXHempG.js";import"./Toast-_0vFKl4S.js";import"./user-MVrT3swS.js";function G({application:s}){var u,g,b,p,j,N,v,y,w,k,S,A,_,R;const{sideLinks:C,errors:i}=E().props,[D,d]=o.useState(!1),[L,t]=o.useState(!1),[l,x]=o.useState(""),[c,a]=o.useState(!1),F=r=>{r.preventDefault(),a(!0),m.post(route("admin.speakers.application.approve",s.id),{},{preserveScroll:!0,onFinish:()=>{a(!1),d(!1)}})},U=r=>{r.preventDefault(),a(!0),m.patch(route("admin.speakers.application.reject",s.id),{feedback:l},{preserveScroll:!0,onFinish:()=>{a(!1)},onSuccess:()=>{t(!1),x("")}})},I=r=>{r.preventDefault(),a(!0),m.patch(route("admin.speakers.application.revoke",s.id),{feedback:l},{preserveScroll:!0,onFinish:()=>{a(!1)},onSuccess:()=>{t(!1),x("")}})},P=new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),n=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),h=()=>{switch(s.status){case"approved":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx("i",{className:"fas fa-check w-3 h-3 mr-1"}),"Approved"]});case"rejected":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx("i",{className:"fas fa-times w-3 h-3 mr-1"}),"Rejected"]});default:return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx("i",{className:"fas fa-clock w-3 h-3 mr-1"}),"Pending"]})}},f=(u=s.speaker)!=null&&u.photo?`/storage/${s.speaker.photo}`:null,z=((b=(g=s.user)==null?void 0:g.name)==null?void 0:b.charAt(0).toUpperCase())||"S";return e.jsxs(B,{sideLinks:C,children:[e.jsx(M,{title:"Review Speaker Application"}),e.jsxs("div",{className:"px-4 mx-auto max-w-7xl py-8",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T,{href:route("admin.speakers.index"),className:"inline-flex items-center justify-center overflow-hidden w-10 h-10 bg-white border rounded-full border-gray-300 text-gray-700 text-sm font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#002147] transition shadow-sm",title:"Back to Speakers",children:e.jsx("i",{className:"fas fa-arrow-left w-5 h-5"})}),e.jsx("div",{className:"p-2.5 rounded-lg bg-[#002147]/10",children:e.jsx("i",{className:"fas fa-clipboard-list w-6 h-6 text-[#002147]"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-extrabold text-[#002147]",children:"Review Speaker Application"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Review speaker session proposal details"})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-5 border-b border-gray-200 bg-gray-50",children:e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:s.topic_title||"Untitled Session"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2",children:[e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["Submitted ",P]}),h(),s.event&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx("i",{className:"fas fa-calendar w-3 h-3 mr-1"}),s.event.title||"Unknown Event"]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 bg-gray-50",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("i",{className:"fas fa-presentation-screen w-5 h-5 mr-2 text-[#002147]"}),"Session Information"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic Title"}),e.jsx("p",{className:"text-gray-900 text-base font-medium",children:s.topic_title||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("div",{className:"prose prose-sm max-w-none text-gray-800 bg-white p-3 rounded-lg border",children:s.topic_description?e.jsx("p",{className:"whitespace-pre-line",children:s.topic_description}):e.jsx("span",{className:"text-gray-400 italic",children:"No description provided."})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Format"}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 capitalize",children:((p=s.session_format)==null?void 0:p.value)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Application Status"}),h()]})]}),s.event&&e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Information"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"fas fa-calendar w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{children:s.event.title||"Unknown Event"})]}),s.event.start_date&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mx-2 hidden sm:inline",children:"â€¢"}),e.jsx("i",{className:"fas fa-clock w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{children:n(s.event.start_date)})]})]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 bg-gray-50",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("i",{className:"fas fa-microphone w-5 h-5 mr-2 text-[#002147]"}),"Speaker Information"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:f?e.jsx("img",{className:"h-20 w-20 rounded-full object-cover border-2 border-gray-200 shadow-sm",src:f,alt:((j=s.user)==null?void 0:j.name)||"Speaker"}):e.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-200 flex items-center justify-center border-2 border-dashed border-gray-300",children:e.jsx("span",{className:"text-lg font-bold text-gray-500",children:z})})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-1",children:((N=s.user)==null?void 0:N.name)||"Unknown Speaker"}),e.jsxs("p",{className:"text-[#002147] font-medium mb-4",children:[((v=s.speaker)==null?void 0:v.title)||"N/A",((y=s.speaker)==null?void 0:y.organization)&&e.jsxs(e.Fragment,{children:[" at ",e.jsx("span",{className:"text-gray-700",children:s.speaker.organization})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 p-2 bg-white rounded-lg border",children:[e.jsx("i",{className:"fas fa-envelope w-4 h-4 mr-2 text-[#002147]"}),e.jsx("span",{children:((w=s.user)==null?void 0:w.email)||"No email provided"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 p-2 bg-white rounded-lg border",children:[e.jsx("i",{className:"fas fa-phone w-4 h-4 mr-2 text-[#002147]"}),e.jsx("span",{children:((k=s.user)==null?void 0:k.phone)||"No phone provided"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),e.jsx("div",{className:"prose prose-sm max-w-none text-gray-800 bg-white p-3 rounded-lg border",children:(S=s.speaker)!=null&&S.bio?e.jsx("p",{className:"whitespace-pre-line",children:s.speaker.bio}):e.jsx("span",{className:"text-gray-400 italic",children:"No bio provided."})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[((A=s.speaker)==null?void 0:A.linkedin)&&e.jsxs("a",{href:s.speaker.linkedin,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 hover:text-[#002147] transition",children:[e.jsx("i",{className:"fab fa-linkedin w-3 h-3 mr-1.5"}),"LinkedIn"]}),((_=s.speaker)==null?void 0:_.website)&&e.jsxs("a",{href:s.speaker.website,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 hover:text-[#002147] transition",children:[e.jsx("i",{className:"fas fa-globe w-3 h-3 mr-1.5"}),"Website"]})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 bg-gray-50",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("i",{className:"fas fa-clipboard-check w-5 h-5 mr-2 text-[#002147]"}),"Review Actions"]}),e.jsxs("div",{className:"space-y-3",children:[s.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>d(!0),className:"w-full inline-flex items-center justify-center px-4 py-2.5 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-[#002147] hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#002147] transition",children:[e.jsx("i",{className:"fas fa-check-circle w-4 h-4 mr-2"}),"Approve Application"]}),e.jsxs("button",{onClick:()=>t(!0),className:"w-full inline-flex items-center justify-center px-4 py-2.5 border border-red-300 text-sm font-medium rounded-lg shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition",children:[e.jsx("i",{className:"fas fa-times-circle w-4 h-4 mr-2"}),"Reject Application"]})]}),s.status==="approved"&&e.jsxs("button",{onClick:()=>t(!0),className:"w-full inline-flex items-center justify-center px-4 py-2.5 border border-red-300 text-sm font-medium rounded-lg shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition",children:[e.jsx("i",{className:"fas fa-undo w-4 h-4 mr-2"}),"Revoke Approval"]}),s.status==="rejected"&&e.jsxs("div",{className:"text-center py-4 text-gray-500 text-sm",children:["This application was previously rejected.",e.jsx("br",{}),e.jsx("br",{}),"To reconsider, ask the speaker to resubmit or update their application."]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 bg-gray-50",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Application Timeline"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Submitted"}),e.jsx("span",{className:"font-medium text-gray-900",children:n(s.created_at)})]}),s.approved_at&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Approved"}),e.jsx("span",{className:"font-medium text-green-700",children:n(s.approved_at)})]}),s.rejected_at&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Rejected"}),e.jsx("span",{className:"font-medium text-red-700",children:n(s.rejected_at)})]}),s.updated_at&&s.updated_at!==s.created_at&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Last Updated"}),e.jsx("span",{className:"font-medium text-gray-900",children:n(s.updated_at)})]})]})]})]})]})]})]}),D&&e.jsx("div",{className:"fixed inset-0 bg-gray-600/40 bg-opacity-50 flex items-center justify-center z-50 px-4",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Approve Speaker Application"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 cursor-pointer hover:text-gray-500",children:e.jsx("i",{className:"fas fa-times w-6 h-6"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mx-auto mb-4 text-green-400 w-12 h-12 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-check-circle w-12 h-12"})}),e.jsx("p",{className:"text-center text-lg text-gray-700",children:"Please ensure you have thoroughly reviewed this application before approving."})]}),e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsx("button",{onClick:F,disabled:c,className:"text-white bg-[#002147] hover:bg-primary-600 focus:ring-4 focus:outline-none focus:ring-[#002147] font-medium rounded-lg text-sm px-5 py-2.5 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Approving...":"Approve"}),e.jsx("button",{onClick:()=>d(!1),className:"py-2.5 px-5 text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200 hover:bg-gray-100",children:"Cancel"})]})]})})}),L&&e.jsx("div",{className:"fixed inset-0 bg-gray-600/40 bg-opacity-50 flex items-center justify-center z-50 px-4",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:s.status==="approved"?"Revoke Speaker Approval":"Reject Speaker Application"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 cursor-pointer hover:text-gray-500",children:e.jsx("i",{className:"fas fa-times w-6 h-6"})})]}),e.jsxs("form",{onSubmit:s.status==="approved"?I:U,children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{htmlFor:"feedback",className:"block text-sm font-medium text-gray-700 mb-2",children:["Please provide a reason for ",s.status==="approved"?"revoking approval":`rejecting ${(R=s.user)==null?void 0:R.name}'s application`,":"]}),e.jsx("textarea",{id:"feedback",name:"feedback",rows:4,value:l,onChange:r=>x(r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-[#002147] focus:border-[#002147]",placeholder:"Minimum 50 characters required...",required:!0,minLength:50,maxLength:1e3}),(i==null?void 0:i.feedback)&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.feedback}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[l.length,"/1000 characters (min: 50)"]})]}),e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsx("button",{type:"submit",disabled:c||l.length<50,className:"text-white bg-red-600 hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Processing...":s.status==="approved"?"Revoke Approval":"Reject Application"}),e.jsx("button",{type:"button",onClick:()=>t(!1),className:"py-2.5 px-5 text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200 hover:bg-gray-100",children:"Cancel"})]})]})]})})})]})}export{G as default};
