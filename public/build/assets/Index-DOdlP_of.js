import{r as c,j as e,H as N,L as n,a as w}from"./app-Ctb2Vi0i.js";import{D as v}from"./DashboardLayout-BmEIDf5I.js";import"./Toast-DZ4W_5gU.js";function S({auth:a,courses:o,instructorStats:s,sideLinks:h}){const x=o.data||[],[p,r]=c.useState(!1),[l,m]=c.useState(null),[f,u]=c.useState(!1),g=t=>{m(t),r(!0)},y=()=>{l&&(u(!0),w.delete(route("instructor.courses.destroy",l.slug),{preserveScroll:!0,onFinish:()=>{u(!1),r(!1),m(null)}}))},b=t=>({draft:{label:"Draft",className:"bg-gray-100 text-gray-800"},published:{label:"Published",className:"bg-green-100 text-green-800"},pending:{label:"In Review",className:"bg-yellow-100 text-yellow-800"}})[t]||{label:"Unknown",className:"bg-gray-100 text-gray-800"},j=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e.jsxs(v,{user:a.user,sideLinks:h,children:[e.jsx(N,{title:"Instructor Dashboard"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-primary font-montserrat",children:"My Dashboard"}),e.jsxs("p",{className:"text-sm text-gray-500 font-lato",children:["Welcome back, ",a.user.name,"!"]})]}),e.jsxs(n,{href:route("instructor.courses.create"),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:[e.jsx("i",{className:"fas fa-plus"}),e.jsx("span",{children:"Create New Course"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(i,{icon:"fas fa-book",title:"Total Courses",value:s.total_courses}),e.jsx(i,{icon:"fas fa-users",title:"Total Students",value:s.total_students}),e.jsx(i,{icon:"fas fa-dollar-sign",title:"Total Earnings",value:`$${s.total_earnings.toFixed(2)}`}),e.jsx(i,{icon:"fas fa-star",title:"Average Rating",value:s.average_rating.toFixed(1)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow border border-primary-100 overflow-x-auto",children:[e.jsx("h2",{className:"text-lg font-bold text-primary p-4 font-montserrat",children:"My Courses"}),e.jsxs("table",{className:"min-w-full divide-y divide-primary-100",children:[e.jsx("thead",{className:"bg-primary-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary uppercase tracking-wider font-montserrat",children:"Course"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary uppercase tracking-wider font-montserrat",children:"Students"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary uppercase tracking-wider font-montserrat",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary uppercase tracking-wider font-montserrat",children:"Date Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-primary uppercase tracking-wider font-montserrat",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-primary-100",children:x.length>0?x.map(t=>{const d=b(t.status);return e.jsxs("tr",{className:"hover:bg-primary-50 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-bold text-sm text-primary font-montserrat",children:t.title}),e.jsx("div",{className:"text-sm text-gray-500 font-lato",children:t.category.name})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-700 font-lato",children:t.students.length})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs font-semibold rounded-full ${d.className} font-montserrat`,children:d.label})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 font-lato",children:j(t.created_at)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx(n,{href:route("instructor.courses.builder",t.slug),className:"text-primary hover:text-primary-dark",title:"Edit Content",children:e.jsx("i",{className:"fas fa-layer-group"})}),e.jsx(n,{href:route("instructor.courses.edit",t.slug),className:"text-blue-600 hover:text-blue-800",title:"Edit Settings",children:e.jsx("i",{className:"fas fa-cog"})}),t.status==="draft"&&e.jsx("button",{onClick:()=>g(t),className:"text-red-600 hover:text-red-800",title:"Delete (Draft only)",children:e.jsx("i",{className:"fas fa-trash"})})]})})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("i",{className:"fas fa-book-open w-12 h-12 text-gray-300 mb-4"}),e.jsx("p",{className:"font-lato",children:"You haven't created any courses yet."}),e.jsx(n,{href:route("instructor.courses.create"),className:"mt-4 text-sm text-primary hover:underline",children:"Create your first course"})]})})})})]})]}),p&&l&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl p-6 w-full max-w-md mx-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 mb-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-montserrat",children:"Confirm Course Deletion"}),e.jsx("button",{type:"button",onClick:()=>r(!1),className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 inline-flex justify-center items-center transition-colors",children:e.jsx("i",{className:"fas fa-times w-4 h-4"})})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("i",{className:"fas fa-exclamation-triangle w-6 h-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 font-montserrat mb-2",children:"Delete Course"}),e.jsxs("div",{className:"text-sm text-gray-500 font-lato",children:[e.jsxs("p",{children:["Are you sure you want to delete"," ",e.jsx("span",{className:"font-semibold text-gray-900",children:l.title}),"?"]}),e.jsx("p",{className:"mt-1",children:"This action cannot be undone and will delete all modules, lessons, and progress."})]})]})}),e.jsxs("div",{className:"flex items-center justify-end pt-4 mt-4 border-t border-gray-200 gap-3",children:[e.jsx("button",{onClick:()=>r(!1),type:"button",className:"py-2.5 px-5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-lato",children:"Cancel"}),e.jsx("button",{onClick:y,disabled:f,className:"px-5 py-2.5 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors inline-flex items-center font-montserrat disabled:opacity-50 disabled:cursor-not-allowed",children:f?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin w-4 h-4 mr-2"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-trash w-4 h-4 mr-2"}),"Delete Course"]})})]})]})})]})}function i({icon:a,title:o,value:s}){return e.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-200 flex items-center gap-4",children:[e.jsx("div",{className:"bg-primary-100 text-primary rounded-full w-12 h-12 flex items-center justify-center",children:e.jsx("i",{className:`${a} text-xl`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-lato",children:o}),e.jsx("p",{className:"text-2xl font-bold text-primary font-montserrat",children:s})]})]})}export{S as default};
