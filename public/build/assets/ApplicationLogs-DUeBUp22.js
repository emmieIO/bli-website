import{u as y,b as l,j as e,H as j,r as b}from"./app-Cs9jEqCJ.js";import{D as w}from"./DashboardLayout-CHKxiySw.js";import"./Toast-e1HMQsHT.js";import"./createLucideIcon-BrlwNA_4.js";import"./index-B7mgmw7u.js";import"./menu-Ct6K1sdo.js";import"./house-J3cK0ICJ.js";import"./shopping-cart-BVmJt-7R.js";import"./user-CgIDqBLC.js";import"./book-open-ntIdwci1.js";function P({logs:m}){const{sideLinks:p}=y().props,[t,u]=l.useState(""),[h,r]=l.useState(!1),[o,i]=l.useState(null),[c,n]=l.useState(!1),d=m.filter(s=>{var x;const a=t.toLowerCase();return s.application_id.toString().includes(a)||s.action.toLowerCase().includes(a)||s.user.name.toLowerCase().includes(a)||((x=s.comment)==null?void 0:x.toLowerCase().includes(a))}),f=s=>{i(s),r(!0)},g=s=>{s.preventDefault(),o&&(n(!0),b.delete(route("admin.instructors.application-logs.delete",o.id),{preserveScroll:!0,onSuccess:()=>{r(!1),i(null)},onFinish:()=>{n(!1)}}))};return e.jsxs(w,{sideLinks:p,children:[e.jsx(j,{title:"Application Logs"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Application Logs"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Review all actions performed on instructor applications"})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx("input",{type:"text",placeholder:"Search logs...",value:t,onChange:s=>u(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"}),e.jsx("i",{className:"fas fa-search absolute left-3 top-2.5 text-gray-400 w-5 h-5"})]})})]}),e.jsx("div",{className:"relative overflow-x-auto shadow-md rounded-lg",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Profile Id"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"}),e.jsx("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Performed By"}),e.jsx("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Comment"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e.jsx("tbody",{children:d.length>0?d.map(s=>e.jsxs("tr",{className:"bg-white border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap",children:s.application_id}),e.jsx("td",{className:"px-6 py-4",children:s.action}),e.jsx("td",{className:"px-6 py-4",children:s.user.name}),e.jsx("td",{className:"px-6 py-4",children:s.comment||"N/A"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>f(s),className:"font-medium text-red-600 hover:underline flex items-center cursor-pointer",children:e.jsx("i",{className:"fas fa-trash w-4 h-4"})})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 text-gray-400",children:[e.jsx("i",{className:"fas fa-clipboard-list w-12 h-12 text-gray-300"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t?"No logs found":"No application logs yet"}),e.jsx("p",{className:"max-w-md text-center",children:t?"Try adjusting your search query":"Application logs will appear here when actions are performed"})]})})})})]})}),h&&o&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl p-4 w-full max-w-md mx-4 border border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>r(!1),className:"absolute top-3 right-3 text-gray-400 bg-transparent hover:bg-gray-100 hover:text-gray-600 rounded-lg text-sm w-8 h-8 inline-flex justify-center items-center transition-colors",children:e.jsx("i",{className:"fas fa-times w-4 h-4"})}),e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 w-12 h-12 text-gray-400 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-exclamation-circle w-12 h-12"})}),e.jsx("h3",{className:"mb-5 text-lg font-normal text-gray-500",children:"Are you sure you want to delete this log?"}),e.jsx("form",{onSubmit:g,children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("button",{type:"submit",disabled:c,className:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Deleting...":"Yes, I'm sure"}),e.jsx("button",{type:"button",onClick:()=>r(!1),className:"py-2.5 px-5 ml-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100",children:"No, cancel"})]})})]})]})})]})}export{P as default};
