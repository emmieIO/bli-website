import{u as m,j as e,H as x,L as g,a as h}from"./app-CXX3rjxJ.js";import{D as p}from"./DashboardLayout-DFjY4ebl.js";import"./Toast-D60RrfJo.js";function y({roles:s,permissions:c}){const{sideLinks:n}=m().props,i=(r,l,t)=>{const a=t?"remove":"add",o=`${a==="add"?"Grant":"Remove"} "${l}" permission ${a==="add"?"to":"from"} ${r} role?`;confirm(o)&&h.post(route("admin.roles.toggle-permission"),{role:r,permission:l,action:a},{preserveScroll:!0})};return e.jsxs(p,{sideLinks:n,children:[e.jsx(x,{title:"Roles & Permissions - Beacon Leadership Institute"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2 font-montserrat",children:"Role & Permission Management"}),e.jsx("p",{className:"text-gray-600 font-lato",children:"Configure roles and their associated permissions to control system access."})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(g,{href:route("admin.users.index"),className:"inline-flex items-center gap-2 bg-gray-600 hover:bg-gray-700 py-3 px-6 rounded-lg font-medium text-white transition-all duration-200 shadow-sm font-montserrat",children:[e.jsx("i",{className:"fas fa-users w-4 h-4"}),e.jsx("span",{children:"Manage Users"})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:s.map(r=>e.jsx(f,{role:r},r.id))}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-lg",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 font-montserrat",children:"Permission Matrix"}),e.jsx("p",{className:"text-gray-600 mt-1 font-lato",children:"Manage detailed permissions for each role"})]}),e.jsx("div",{className:"p-6",children:Object.entries(c).map(([r,l])=>e.jsxs("div",{className:"mb-8 last:mb-0",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 capitalize font-montserrat",children:[r.replace(/[_-]/g," ")," Permissions"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600 w-1/3 font-montserrat",children:"Permission"}),s.map(t=>e.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-600 font-montserrat",children:t.name.charAt(0).toUpperCase()+t.name.slice(1)},t.id))]})}),e.jsx("tbody",{children:l.map(t=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 font-lato",children:t.name.replace(/[_-]/g," ").split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 font-lato",children:t.name})]})}),s.map(a=>{const o=a.permissions.some(d=>d.name===t.name);return e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx("button",{onClick:()=>i(a.name,t.name,o),className:`w-6 h-6 rounded ${o?"bg-green-500 text-white":"bg-gray-200 text-gray-400"} hover:scale-110 transition-all duration-200`,title:o?"Remove permission":"Grant permission",children:e.jsx("i",{className:`fas fa-${o?"check":"times"} w-4 h-4`})})},a.id)})]},t.id))})]})})]},r))})]}),e.jsxs("div",{className:"mt-8 bg-gray-50 rounded-xl p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 font-montserrat",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>alert("Reset to defaults functionality would be implemented here"),className:"flex items-center justify-center gap-2 px-4 py-3 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg transition-colors font-montserrat",children:[e.jsx("i",{className:"fas fa-undo w-4 h-4"}),"Reset to Defaults"]}),e.jsxs("button",{onClick:()=>alert("Export configuration functionality would be implemented here"),className:"flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors font-montserrat",children:[e.jsx("i",{className:"fas fa-download w-4 h-4"}),"Export Configuration"]}),e.jsxs("button",{onClick:()=>alert("Audit log functionality would be implemented here"),className:"flex items-center justify-center gap-2 px-4 py-3 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition-colors font-montserrat",children:[e.jsx("i",{className:"fas fa-clock w-4 h-4"}),"View Audit Log"]})]})]})]})}function f({role:s}){const n=(i=>({admin:{bg:"bg-red-50",icon:"bg-red-100",text:"text-red-800",iconColor:"text-red-600"},instructor:{bg:"bg-green-50",icon:"bg-green-100",text:"text-green-800",iconColor:"text-green-600"},student:{bg:"bg-blue-50",icon:"bg-blue-100",text:"text-blue-800",iconColor:"text-blue-600"}})[i]||{bg:"bg-gray-50",icon:"bg-gray-100",text:"text-gray-800",iconColor:"text-gray-600"})(s.name);return e.jsx("div",{className:`bg-white rounded-xl border border-gray-200 shadow-sm ${n.bg}`,children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`p-2 ${n.icon} rounded-lg`,children:e.jsx("i",{className:`fas fa-shield-alt w-6 h-6 ${n.iconColor}`})}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("h3",{className:`text-lg font-semibold ${n.text} font-montserrat`,children:[s.name.charAt(0).toUpperCase()+s.name.slice(1)," Role"]}),e.jsxs("p",{className:"text-sm text-gray-600 font-lato",children:[s.permissions.length," permissions"]})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 font-montserrat",children:"Key Permissions:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.permissions.slice(0,4).map(i=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-white text-gray-600 font-lato",children:i.name.replace(/[-_]/g," ")},i.id)),s.permissions.length>4&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-200 text-gray-600 font-lato",children:["+",s.permissions.length-4," more"]})]})]})]})})}export{y as default};
