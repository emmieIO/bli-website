import{u as C,b as m,j as e,H as E,L as b,r as k}from"./app-DjSch9xg.js";import{D as S}from"./DashboardLayout-DGYQsx5B.js";import{I as n}from"./Input-4R5AiMLX.js";import{R as D}from"./RichTextEditor-ukmQfDIY.js";import"./Toast-BmCr-QfC.js";import"./createLucideIcon-CnTbW-bU.js";import"./index-B7mgmw7u.js";import"./menu-Dx77JpNw.js";import"./house-BXjVXaez.js";import"./shopping-cart-CwfofFsI.js";import"./user-DkqgONCv.js";import"./book-open-Bh1YP64b.js";import"./index-BDIcedry.js";function B({event:t}){var h,f;const{sideLinks:u}=C().props,[p,g]=m.useState(!1),[a,d]=m.useState({title:t.title||"",mode:t.mode||"online",attendee_slots:((h=t.attendee_slots)==null?void 0:h.toString())||"",theme:t.theme||"",start_date:t.start_date?new Date(t.start_date).toISOString().slice(0,16):"",end_date:t.end_date?new Date(t.end_date).toISOString().slice(0,16):"",location:t.location||"",physical_address:t.physical_address||"",contact_email:t.contact_email||"",entry_fee:((f=t.entry_fee)==null?void 0:f.toString())||"0",description:t.description||"",is_active:t.is_active||!1,is_published:t.is_published||!1,is_allowing_application:t.is_allowing_application||!1,is_featured:t.is_featured||!1}),[x,y]=m.useState(null),s=r=>{const{name:i,value:o,type:l}=r.target;if(l==="checkbox"){const c=r.target.checked;d(w=>({...w,[i]:c}))}else d(c=>({...c,[i]:o}))},j=r=>{r.target.files&&r.target.files[0]&&y(r.target.files[0])},v=r=>{r.preventDefault(),g(!0);const i=new FormData;Object.entries(a).forEach(([o,l])=>{typeof l=="boolean"?l&&i.append(o,"1"):l!==""&&i.append(o,l)}),i.append("creator_id",t.creator_id.toString()),x&&i.append("program_cover",x),i.append("_method","PUT"),k.post(route("admin.events.update",t.slug),i,{preserveScroll:!0,onFinish:()=>{g(!1)}})},_=a.mode==="online"||a.mode==="hybrid",N=a.mode==="offline"||a.mode==="hybrid";return e.jsxs(S,{sideLinks:u,children:[e.jsx(E,{title:"Update Event"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-extrabold text-gray-900 font-montserrat",children:"Update Event"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Edit event details and manage its settings."})]})}),e.jsxs(b,{href:route("admin.events.index"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition shadow-sm",children:[e.jsx("i",{className:"fas fa-arrow-left w-4 h-4 mr-2"}),"Back to Events"]})]}),e.jsx("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-6 md:p-8",children:e.jsxs("form",{onSubmit:v,className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Event Basics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(n,{label:"Event Title",name:"title",value:a.title,onChange:s,required:!0}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"mode",className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Mode ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"mode",name:"mode",value:a.mode,onChange:s,required:!0,className:"block w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary",children:[e.jsx("option",{value:"online",children:"Online"}),e.jsx("option",{value:"offline",children:"Offline"}),e.jsx("option",{value:"hybrid",children:"Hybrid"})]})]}),e.jsx(n,{label:"Attendee Slots",name:"attendee_slots",type:"number",min:"1",value:a.attendee_slots,onChange:s,placeholder:"Enter no. of available slots"}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(n,{label:"Event Theme",name:"theme",value:a.theme,onChange:s,required:!0})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Date & Location"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(n,{label:"Start Date & Time",name:"start_date",type:"datetime-local",value:a.start_date,onChange:s,required:!0}),e.jsx(n,{label:"End Date & Time",name:"end_date",type:"datetime-local",value:a.end_date,onChange:s,required:!0}),_&&e.jsx(n,{label:"Location (Meeting Link)",name:"location",value:a.location,onChange:s,placeholder:"Paste meeting link"}),N&&e.jsx(n,{label:"Full Physical Address (if offline/hybrid)",name:"physical_address",value:a.physical_address,onChange:s,placeholder:"Street, City, State, Country"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Contact & Pricing"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(n,{label:"Contact Email",name:"contact_email",type:"email",value:a.contact_email,onChange:s,placeholder:"organizer@event.com"}),e.jsx(n,{label:"Entry Fee (₦)",name:"entry_fee",type:"number",min:"0",step:"0.01",value:a.entry_fee,onChange:s,placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Cover Image"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"program_cover",className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload New Cover Image (JPG/PNG)"}),e.jsx("input",{type:"file",name:"program_cover",id:"program_cover",accept:".jpg,.jpeg,.png,.JPG,.PNG",onChange:j,className:`block w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary
                                        file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium
                                        file:bg-primary file:text-white hover:file:bg-[#003366] transition`}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Recommended size: 1200x600px. Max file size: 5MB."}),t.program_cover&&e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Cover Image:"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:`/storage/${t.program_cover}`,alt:"Event Cover",className:"h-16 w-24 object-cover rounded border",onError:r=>{r.target.src="https://placehold.co/600x400?text=Cover+Image+Missing"}}),e.jsxs("a",{href:`/storage/${t.program_cover}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary font-medium hover:underline flex items-center",children:[e.jsx("i",{className:"fas fa-eye w-4 h-4 mr-1"}),"View Image"]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Event Description"}),e.jsx(D,{label:"Description",value:a.description,onChange:r=>d(i=>({...i,description:r})),placeholder:"Describe your event, audience, highlights, and what attendees can expect...",required:!0})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Event Options"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"checkbox",name:"is_active",checked:a.is_active,onChange:s,className:"rounded border-gray-300 text-primary focus:ring-primary"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"checkbox",name:"is_published",checked:a.is_published,onChange:s,className:"rounded border-gray-300 text-primary focus:ring-primary"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Published"})]}),e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"checkbox",name:"is_allowing_application",checked:a.is_allowing_application,onChange:s,className:"rounded border-gray-300 text-primary focus:ring-primary"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Allow Speaker Applications"})]}),e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"checkbox",name:"is_featured",checked:a.is_featured,onChange:s,className:"rounded border-gray-300 text-primary focus:ring-primary"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Is featured"})]})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Active — event is enabled in the admin dashboard. Published — event is visible to the public. Enable speaker applications to accept submissions; manage them from the Applications section. Is featured — highlights this event in featured lists and homepage sections to increase visibility."})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200 flex flex-col sm:flex-row justify-end gap-3",children:[e.jsx(b,{href:route("admin.events.index"),className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-300 transition text-center",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:p,className:"px-6 py-2.5 inline-flex items-center justify-center text-sm font-medium text-white bg-accent rounded-lg hover:bg-[#008f47] focus:ring-4 focus:ring-accent focus:outline-none transition disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("i",{className:"fas fa-save w-4 h-4 mr-2"}),p?"Updating...":"Update Event"]})]})]})})]})]})}export{B as default};
